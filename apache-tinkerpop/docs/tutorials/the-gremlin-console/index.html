<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>The Gremlin Console</title>
<style>
/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */

/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
@import url(http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.css);
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #6c818f; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #444444; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #111111; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: ff-meta-web-pro-1, ff-meta-web-pro-2, Arial, "Helvetica Neue", sans-serif; font-weight: bold; font-style: normal; color: #465158; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #909ea7; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Consolas", "Deja Vu Sans Mono", "Bitstream Vera Sans Mono", monospace; font-weight: normal; color: #444444; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 0; }
ul.no-bullet, ol.no-bullet { margin-left: 0; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #748590; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #748590; }

blockquote, blockquote p { line-height: 1.5; color: #909ea7; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Print styles.  Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/ Credit to Paul Irish and HTML5 Boilerplate (html5boilerplate.com)
*/
.print-only { display: none !important; }

@media print { * { background: transparent !important; color: #000 !important; /* Black prints faster: h5bp.com/s */ box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; /* h5bp.com/t */ }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 0 #dddddd; }
table thead, table tfoot { background: none; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 1px 8px 1px 5px; font-size: 1em; color: #222222; text-align: left; }
table tr th, table tr td { padding: 1px 8px 1px 5px; font-size: 1em; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: none; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.5; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 0.95em; padding: 0; white-space: nowrap; background-color: #f2f2f2; border: 0 solid #dddddd; -webkit-border-radius: 6px; border-radius: 6px; text-shadow: none; }

pre, pre > code { line-height: 1.2; color: inherit; font-family: "Consolas", "Deja Vu Sans Mono", "Bitstream Vera Sans Mono", monospace; font-weight: normal; }

.keyseq { color: #333333; }

kbd:not(.keyseq) { display: inline-block; color: black; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: black; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: #373737; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#header { margin-bottom: 2.5em; }
#header > h1 { color: #111111; font-weight: bold; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #909ea7; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }

#toctitle { color: #6c818f; }

@media only screen and (min-width: 768px) { body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: .90em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 6px; border-radius: 6px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }

#content #toctitle { font-weight: bold; font-family: ff-meta-web-pro-1, ff-meta-web-pro-2, Arial, "Helvetica Neue", sans-serif; font-size: 1em; padding-left: 0.125em; }

#footer { max-width: 100%; background-color: black; padding: 1.25em; }

#footer-text { color: white; line-height: 1.35; }

.sect1 { padding-bottom: 1.25em; }

.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #465158; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #3b444a; }

.imageblock, .literalblock, .listingblock, .mathblock, .verseblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }

.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #909ea7; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 6px; border-radius: 6px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }

.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 6px; border-radius: 6px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #6c818f; margin-top: 0; line-height: 1.5; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre:not([class]), .listingblock pre:not([class]) { background: #eeeeee; }
.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border-width: 1px; border-style: solid; border-color: #cccccc; -webkit-border-radius: 6px; border-radius: 6px; padding: 0.5em; word-wrap: break-word; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock pre > code, .literalblock pre[class] > code, .listingblock pre > code, .listingblock pre[class] > code { display: block; }
@media only screen { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.76em; } }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.855em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.95em; } }

.listingblock pre.highlight { padding: 0; }
.listingblock pre.highlight > code { padding: 0.5em; }

.listingblock > .content { position: relative; }

.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }

.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.sass:before { content: "sass"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }

table.pyhltable { border: 0; margin-bottom: 0; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }

.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: 0.8125em; color: #748590; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }

table thead th, table tfoot th { font-weight: bold; }

table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 6px; border-radius: 6px; border-top: 0 solid #dddddd; border-bottom: 0 solid #dddddd; }

table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }

table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }

table.tableblock td .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }

th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }

th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }

th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }

th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }

th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }

tbody tr th { display: table-cell; line-height: 1.5; background: none; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

td > div.verse { white-space: pre; }

ol { margin-left: 0.25em; }

ul li ol { margin-left: 0; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 .75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.qanda > ol > li > p > em:only-child { color: #373737; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }

.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #444444; color: #333333; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum { display: inline-block; color: white !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }

.listingblock code { white-space: pre; overflow: auto; overflow-wrap: normal; /* needed for webkit browsers */ }

#toc ul.sectlevel0 > li > a { font-style: normal; font-weight: bold; }

h4 { color: #6c818f; }

.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 6px; border-radius: 6px; margin-left: 2em; margin-right: 2em; }

.admonitionblock { margin-left: 2em; margin-right: 2em; }
.admonitionblock > table { border: 1px solid #609060; border-top-width: 1.5em; background-color: #e9ffe9; border-collapse: separate; -webkit-border-radius: 0; border-radius: 0; }
.admonitionblock > table td.icon { padding-top: .5em; padding-bottom: .5em; }
.admonitionblock > table td.content { padding: .5em 1em; color: black; font-size: .9em; border-left: none; }

.sidebarblock { background-color: #e8ecef; border-color: #ccc; }
.sidebarblock > .content > .title { color: #444444; }

table.tableblock.grid-all { border-collapse: collapse; -webkit-border-radius: 0; border-radius: 0; }
table.tableblock.grid-all th.tableblock, table.tableblock.grid-all td.tableblock { border-bottom: 1px solid #aaa; }

#footer { background-color: #465158; padding: 2em; }

#footer-text { color: #eee; font-size: 0.8em; text-align: center; }

.invisible {position: absolute; left: 9999px}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="imageblock">
<div class="content">
<a class="image" href="http://tinkerpop.apache.org"><img src="../../images/apache-tinkerpop-logo.png" alt="apache tinkerpop logo" width="500"></a>
</div>
</div>
<div class="paragraph">
<p><strong>3.2.6</strong></p>
</div>
<div class="sect1">
<h2 id="_the_gremlin_console">The Gremlin Console</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In <a href="http://tinkerpop.apache.org/docs/3.2.6/tutorials/getting-started/#_the_first_five_minutes">"The First Five Minutes"</a>
of the <a href="http://tinkerpop.apache.org">Apache TinkerPop</a> tutorial on how to
<a href="http://tinkerpop.apache.org/docs/3.2.6/tutorials/getting-started/">get started</a> wth TinkerPop and graphs, the
importance of the <a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#gremlin-console">Gremlin Console</a> was
introduced. This tutorial further explores the usage of the console in the daily work of Gremlin developers delving
more deeply into the details of its operations and expanding upon the basic usage guide in the
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference">reference documentation</a>.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../../images/gremlin-dashboard.png" alt="gremlin dashboard" width="600">
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
This tutorial assumes that the Gremlin Console is installed and that you have some familiarity with Gremlin
in general. Please be sure to read the <a href="http://tinkerpop.apache.org/docs/3.2.6/tutorials/getting-started/">Getting Started</a>
tutorial prior to proceeding further with this one.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Gremlin Console serves a variety of use cases that can meet the needs of different types of Gremlin users. This
tutorial explores the features of the Gremlin Console through a number of these different use cases to hopefully
inspire you to new levels of usage. While a use case may not fit your needs, you may well find it worthwhile to
read, as it is possible that a "feature" will be discussed that may be useful to you.</p>
</div>
<div class="paragraph">
<p>The following points summarize the key features discussed in each use case:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#learning-tool">A Learning Tool</a></p>
<div class="ulist">
<ul>
<li>
<p>Introducing the <a href="#toy-graphs">toy graphs</a></p>
</li>
<li>
<p>Finding <a href="#help">help</a> for commands</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#application-devs">Application Developers</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#static-imports">Static importing</a> of common methods</p>
</li>
<li>
<p><a href="#result-iteration">Result iteration</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#ad-hoc">Ad-hoc Analysis</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#import-command">Importing new classes</a></p>
</li>
<li>
<p><a href="#install-command">Installing new dependencies</a></p>
</li>
<li>
<p>Deciding when to use the <a href="#def-usage">def</a> keyword</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="learning-tool">Use Case: A Learning Tool</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image" style="float: left"><img src="../../images/gremlin-grad.png" alt="gremlin grad" width="185"></span> <em>You are a new user of Apache TinkerPop and perhaps new to graphs as well.
You&#8217;re trying to get familiar with how Gremlin works and how it might fit into your project.  You want some "quick
wins" with Gremlin and aim to conceptually prove that the TinkerPop stack is a good direction to go.</em></p>
</div>
<div class="paragraph">
<p>It cannot be emphasized enough just how important the Gremlin Console is to new users. The interactive nature of a
<a href="http://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a> makes it possible to quickly try some
Gremlin code and get some notion of success or failure without the longer process of build tools (e.g.
<a href="https://maven.apache.org/">Maven</a>), <a href="https://en.wikipedia.org/wiki/Integrated_development_environment">IDEs</a>,
compilation, and application execution. The faster that you can iterate through versions of your Gremlin code, the
faster you can advance your knowledge.</p>
</div>
<div class="paragraph">
<p>As a new user, your best way to learn is to try Gremlin with a graph already packaged with the console:
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#tinkergraph-gremlin">TinkerGraph</a>. TinkerGraph is an in-memory
graph database that is easy to use and does not have a lot of configuration options to be concerned with. You can
create an empty TinkerGraph as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; graph = TinkerGraph.open() <span class="invisible">//</span><b class="conum">1</b><span class="invisible">\</span>
==&gt;tinkergraph[<span class="key">vertices</span>:<span class="integer">0</span> <span class="key">edges</span>:<span class="integer">0</span>]
gremlin&gt; g = graph.traversal() <span class="invisible">//</span><b class="conum">2</b><span class="invisible">\</span>
==&gt;graphtraversalsource[tinkergraph[<span class="key">vertices</span>:<span class="integer">0</span> <span class="key">edges</span>:<span class="integer">0</span>], standard]</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Creates the <code>Graph</code> instance that is the API to the
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#_the_graph_structure">structure</a> of the graph.</p>
</li>
<li>
<p>Creates the <code>TraversalSource</code> which is the API for
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#_the_graph_process">processing</a> or
<a href="http://tinkerpop.apache.org/docs/3.2.6/tutorials/getting-started/#_graph_traversal_staying_simple">traversing</a>
that <code>Graph</code>.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
TinkerPop recommends creating the <code>TraversalSource</code> once and re-using it as necessary in your application.
</td>
</tr>
</table>
</div>
<div id="toy-graphs" class="paragraph">
<p>Now that you have an empty TinkerGraph instance, you could load a sample of your data and get started with some
traversals.  Of course, you might also try one of the "toy" graphs (i.e. graphs with sample data) that TinkerPop
packages with the console through the <code>TinkerFactory</code>.  <code>TinkerFactory</code> has a number of static methods that can be
called to create these standard <code>TinkerGraph</code> instances.  They are "standard" in the sense that they are typically used
for all TinkerPop examples and test cases.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>createClassic()</code> - The original TinkerPop 2.x toy graph (<a href="http://tinkerpop.apache.org/docs/3.2.6/images/tinkerpop-classic.png">diagram</a>).</p>
</li>
<li>
<p><code>createModern()</code> - The TinkerPop 3.x representation of the "classic" graph, where the main difference is that vertex
labels are defined and the "weight" edge property is a <code>double</code> rather than a <code>float</code>
(<a href="http://tinkerpop.apache.org/docs/3.2.6/images/tinkerpop-modern.png">diagram</a>).</p>
</li>
<li>
<p><code>createTheCrew()</code> - A graph that demonstrates usage of the new structural features of TinkerPop 3.x (as compared to
2.x) such as <a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#vertex-properties">vertex properties and multi-properties</a>
(<a href="http://tinkerpop.apache.org/docs/3.2.6/images/the-crew-graph.png">diagram</a>).</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; graph = TinkerFactory.createModern()
==&gt;tinkergraph[<span class="key">vertices</span>:<span class="integer">6</span> <span class="key">edges</span>:<span class="integer">6</span>]
gremlin&gt; g = graph.traversal()
==&gt;graphtraversalsource[tinkergraph[<span class="key">vertices</span>:<span class="integer">6</span> <span class="key">edges</span>:<span class="integer">6</span>], standard]</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image" style="float: right"><img src="../../images/grateful-gremlin.png" alt="grateful gremlin" width="110"></span> As you might have noticed from the diagrams of these graphs or from
the output of the Gremlin Console itself, these toy graphs are small (only a few vertices and edges each). It is nice
to have a small graph when learning Gremlin, so that you can easily see if you are getting the results you expect. Even
though these graphs are "small", they are robust enough in structure to try out many different kinds of traversals.
However, if you find that a larger graph might be helpful, there is another option: The Grateful Dead
(<a href="http://tinkerpop.apache.org/docs/3.2.6/images/grateful-dead-schema.png">schema</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; graph = TinkerGraph.open()
==&gt;tinkergraph[<span class="key">vertices</span>:<span class="integer">0</span> <span class="key">edges</span>:<span class="integer">0</span>]
gremlin&gt; graph.io(gryo()).readGraph(<span class="string"><span class="delimiter">'</span><span class="content">data/grateful-dead.kryo</span><span class="delimiter">'</span></span>)
gremlin&gt; graph
==&gt;tinkergraph[<span class="key">vertices</span>:<span class="integer">808</span> <span class="key">edges</span>:<span class="integer">8049</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Grateful Dead graph ships with the Gremlin Console and the data can be found in several formats (along with the
other toy graphs previously mentioned) in the console&#8217;s <code>data</code> directory.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
If you find yourself in a position where you need to ask a question on the
<a href="http://groups.google.com/group/gremlin-users">Gremlin Users mailing list</a> about a traversal that you are having
trouble with in your application, try to convert the gist of it to one of the toy graphs.  Taking this step will make it
easier for advanced Gremlin users to help you, which should lead to a faster response time for your problem. In
addition, there is the added benefit that the mailing list post will be more relevant to other users, as it is
not written solely in the context of your domain. If the sample data sets don&#8217;t properly demonstrate your issue, then
including a Gremlin script that can construct a small body of sample data would be equally helpful.
</td>
</tr>
</table>
</div>
<div id="help" class="paragraph">
<p>As you get familiar with the console, it is good to know what some of the basic commands are. A "command" is not
"Gremlin code", but something interpreted by the console to have special meaning in terms of configuring how the
console works or performing a particular function outside of code itself.  These commands are itemized in the
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#_console_commands">reference documentation</a>, but they can also
be accessed within the console itself with the <code>:help</code> command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; :help

For information about Groovy, <span class="key">visit</span>:
    <span class="key">http</span>:<span class="comment">//groovy-lang.org</span>

Available <span class="key">commands</span>:
  :help       (:h  ) Display <span class="local-variable">this</span> help message
  ?           (:?  ) Alias <span class="key">to</span>: :help
  :exit       (:x  ) Exit the shell
  :quit       (:q  ) Alias <span class="key">to</span>: :exit
  <span class="keyword">import</span>      (:<span class="include">i</span>  ) <span class="include">Import</span> <span class="include">a</span> <span class="include">class</span> <span class="include">into</span> <span class="include">the</span> <span class="include">namespace</span>
  :display    (:d  ) Display the current buffer
  :clear      (:c  ) Clear the buffer and reset the prompt counter
  :show       (:S  ) Show variables, classes or imports
  :inspect    (:n  ) Inspect a variable or the last result with the GUI object browser
  :purge      (:p  ) Purge variables, classes, imports or preferences
  :edit       (:e  ) Edit the current buffer
  :load       (:l  ) Load a file or <span class="predefined-type">URL</span> into the buffer
  .           (:.  ) Alias <span class="key">to</span>: :load
  :save       (:s  ) Save the current buffer to a file
  :record     (:r  ) Record the current session to a file
  :history    (:H  ) Display, manage and recall edit-line history
  :alias      (:a  ) Create an alias
  :register   (:rc ) Register a <span class="keyword">new</span> command with the shell
  :doc        (:D  ) Open a browser window displaying the doc <span class="keyword">for</span> the argument
  :set        (:=  ) <span class="predefined-type">Set</span> (or list) preferences
  :uninstall  (:-  ) Uninstall a Maven library and its dependencies from the Gremlin Console
  :install    (:+  ) Install a Maven library and its dependencies into the Gremlin Console
  :plugin     (:pin) Manage plugins <span class="keyword">for</span> the Console
  :remote     (:rem) Define a remote connection
  :submit     (:&gt;  ) Send a Gremlin script to Gremlin Server

For help on a specific command <span class="key">type</span>:
    :help command</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>:help</code> command shows a list of all the commands registered to the console and as this console is based on the
<a href="http://www.groovy-lang.org/groovysh.html">Groovy Shell</a>, you will see commands that are inherited from there in
addition to the ones provided by TinkerPop. You can also request help on a specific command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; :help :remote

<span class="key">usage</span>: :remote [current|connect &lt;type-of-remote&gt; [&lt;args&gt;]|config &lt;args&gt;|list|next|prev|choose &lt;index&gt;|close]

Define and manage remote connections to use <span class="keyword">in</span> conjunction with the :submit command, which will send Gremlin scripts to the specified remote agent <span class="keyword">for</span> processing.</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Gremlin Console can also provide you with code help via auto-complete functionality. Use the <code>&lt;TAB&gt;</code> key to
trigger a search of possible method names that might complete what you&#8217;ve typed to that point.</p>
</div>
<div class="paragraph">
<p>As you learn more about Gremlin, you will find many code examples in the documentation and most all will be executable
in the console. Trying these examples for yourself and modifying their execution slightly to see how output changes is
a good way to go about your Gremlin education.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="application-devs">Use Case: Application Development</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image" style="float: right"><img src="../../images/gremlin-working-on-tinkerpop.png" alt="gremlin working on tinkerpop" width="350"></span> <em>You are an application developer and the TinkerPop stack
will be central to your application architecture. You need to develop a series of services that will execute queries
against a graph database in support of the application front-end.</em></p>
</div>
<div class="paragraph">
<p>Most application developers use an IDE, such as <a href="https://en.wikipedia.org/wiki/IntelliJ_IDEA">Intellij</a>, to help
with their software development efforts. The IDE provides shortcuts and conveniences that make complex engineering jobs
more productive. When developing applications for TinkerPop, the Gremlin Console should accompany the IDE as an
additional tool to enhance that productivity. In other words, when you open your IDE, open the Gremlin Console next
to it.</p>
</div>
<div class="paragraph">
<p>You will find that as you write Gremlin for your code base in your IDE, you will inevitably reach a point of
sufficient complexity in your traversals where you will need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Quickly test the traversal over real data to determine if it is correct.</p>
</li>
<li>
<p>Test or debug pieces of the traversal in isolation.</p>
</li>
<li>
<p>Experiment with different ways of expressing the same traversal.</p>
</li>
<li>
<p>Examine the performance of a traversal through the <a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#profile-step">profile()</a>
or <a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#explain-step">explain()</a> steps or by other
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#benchmarking-and-profiling">profiling and benchmarking</a> methods.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Consider an example where you are developing an application that uses TinkerGraph and the data from the "modern"
toy graph. You want to encapsulate some logic for a graph traversal that finds a "person" vertex, iterates outgoing
edges and groups the adjacent vertices as
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#valuemap-step">"value maps"</a>.</p>
</div>
<div id="static-imports" class="paragraph">
<p>As you have read the TinkerPop documentation and have been experimenting with Gremlin for a while, you head to your
IDE with your open project in it and write a simple class like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.my.company</span>;

<span class="keyword">import</span> <span class="include">org.apache.tinkerpop.gremlin.structure.Vertex</span>;
<span class="keyword">import</span> <span class="include">org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.apache.tinkerpop.gremlin.structure.T</span>.*;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.__</span>.*;

<span class="keyword">import</span> <span class="include">java.util.List</span>;
<span class="keyword">import</span> <span class="include">java.util.Map</span>;

<span class="directive">public</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">Traversals</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">List</span>&lt;Vertex&gt;&gt; groupAround(GraphTraversalSource g, <span class="type">long</span> vertexId) {
    <span class="keyword">return</span> g.V(vertexId).outE().
             group().
               by(label).
               by(inV()).next()
  }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
TinkerPop code samples typically use <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/language/static-import.html">static importing</a>,
which allows for a more fluid code style. If the static import above were removed in favor of a standard import of
the <code><em></code> and <code>T</code> classes, the traversal would read as follows: <code>g.V(id).outE().group().by(T.label).by(</em>.inV()).next()</code>.
The console automatically performs the static imports for these methods, so they do not need to be imported again
in that environment.
</td>
</tr>
</table>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../../images/tinkerpop-modern.png" alt="tinkerpop modern" width="500">
</div>
</div>
<div class="paragraph">
<p>The diagram above displays the "modern" graph for reference.  Assuming that <code>g</code> refers to a <code>TraversalSource</code> generated
from a <code>Graph</code> instance that refers to that graph, calling <code>groupAround</code> with "1" as the <code>vertexId</code> argument, should
return a <code>Map</code> with two keys: "knows" and "created", where the "knows" key should have vertices "2" and "4" and the
"created" key should have vertex "3". As you are a good developer, you know to write a unit test to validate this
outcome.  You write your test, compile your application, and execute your test only to find it failing on the "knows"
key, which only has one vertex associated to it instead of two.</p>
</div>
<div id="result-iteration" class="paragraph">
<p>As you have the Gremlin Console open you decide to debug the problem there.  You copy your Gremlin code from
the IDE and execute it in the console and confirm the failure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; g.V(<span class="integer">1</span>).outE().
           group().
             by(label).
             by(inV())
==&gt;[<span class="key">created</span>:v[<span class="integer">3</span>],<span class="key">knows</span>:v[<span class="integer">4</span>]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that <code>next()</code> is removed here. The Gremlin Console automatically tries to iterate all results from a line of
execution. In the above case, that line returns a <code>Traversal</code>.  A <code>Traversal</code> is an <code>Iterator</code> and when the console
detects that type it steps through each item in the <code>Iterator</code> and prints it to the screen.</p>
</div>
<div class="paragraph">
<p>Trying it with the use of <code>next()</code> produces the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; g.V(<span class="integer">1</span>).outE().
           group().
             by(label).
             by(inV()).next()
==&gt;created=v[<span class="integer">3</span>]
==&gt;knows=v[<span class="integer">4</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the line of execution does not return a <code>Traversal</code>.  It returns the first item in the <code>Traversal</code> with
the call to <code>next()</code>.  This first item is a <code>Map</code>.  When the console detects that it is a <code>Map</code>, it iterates the
<code>entrySet()</code> and prints each <code>Map.Entry</code> to the screen. It is possible to "prevent" auto-iteration, which is useful
when you want to work with a <code>Traversal</code> as a variable. You can do this with a clever use of a semi-colon:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; t = g.V(<span class="integer">1</span>).outE().
               group().
                 by(label).
                 by(inV());<span class="predefined-constant">null</span>
gremlin&gt; t.next()
==&gt;created=v[<span class="integer">3</span>]
==&gt;knows=v[<span class="integer">4</span>]</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
In addition to "returning null", you could also return an empty list as in: `t = g.V(1);[]'.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image" style="float: left"><img src="../../images/gremlin-console-ide.png" alt="gremlin console ide" width="300"></span> The first line assigns the <code>Traversal</code> to <code>t</code>, but the line itself
is actually two lines of code as denoted by the semi-colon. The line of execution actually returns <code>null</code>, which is
what the console actual auto-iterates. At that point, you can work with <code>t</code> as you desire.</p>
</div>
<div class="paragraph">
<p>Turning your attention back to the original problem, you can now think about the issue with the <code>Traversal</code> not
containing the appropriate number of vertices in the context of iteration. In the original <code>Traversal</code> the second
<code>by()</code> modulator takes <code>inV()</code> as an argument (an anonymous <code>Traversal</code> spawned from the <code>__</code> class whose methods are
statically imported to the console). This <code>by()</code> tells Gremlin what aspect of the current group of edges should be
stored in the list associated with that group.  By specifying <code>inV()</code> you are saying that you want to store the
<a href="http://tinkerpop.apache.org/docs/3.2.6/tutorials/getting-started/#_the_next_fifteen_minutes">in-vertices</a> of the
edges for a group.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
While convenient, statically imported methods can be confusing for new users, especially those who are
translating their code between the console (which is Groovy-based) and a Java IDE. Take care with the use of the
<code>in()</code> method in this context, as the word <code>in</code> is reserved in Groovy. For the console, you must explicitly use
this method as <code>__.in()</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Structurally, this <code>Traversal</code> is sound, however it makes an assumption about how <code>inV()</code> will be utilized as an inner
<code>Traversal</code>.  It is always important to remember that the console does not auto-iterate every <code>Traversal</code> in your
script.  It only iterates the result of a line of execution.  Therefore, inner <code>Traversal</code> instances do not get that
benefit, and as such, <code>inV()</code> only has <code>next()</code> called upon it pulling a single vertex from the "knows" edges. You
can remedy that by adding <code>fold()</code> to <code>inV()</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; g.V(<span class="integer">1</span>).outE().
           group().
             by(label).
             by(inV().fold()).next()
==&gt;created=[v[<span class="integer">3</span>]]
==&gt;knows=[v[<span class="integer">2</span>], v[<span class="integer">4</span>]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can now see that your result is as expected and you can modify your Java class to reflect the change:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.my.company</span>;

<span class="keyword">import</span> <span class="include">org.apache.tinkerpop.gremlin.structure.Vertex</span>;
<span class="keyword">import</span> <span class="include">org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.apache.tinkerpop.gremlin.structure.T</span>.*;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.__</span>.*;

<span class="keyword">import</span> <span class="include">java.util.List</span>;
<span class="keyword">import</span> <span class="include">java.util.Map</span>;

<span class="directive">public</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">Traversals</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">List</span>&lt;Vertex&gt;&gt; groupAround(GraphTraversalSource g, <span class="type">long</span> vertexId) {
    <span class="keyword">return</span> g.V(vertexId).outE().
             group().
               by(label).
               by(inV().fold()).next()
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Result iteration represents the most common "simple" bug that users encounter. It&#8217;s all too easy to write a traversal
as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; g.V().has(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">marko</span><span class="delimiter">'</span></span>).drop()
gremlin&gt; g.V().has(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">marko</span><span class="delimiter">'</span></span>).count()
==&gt;<span class="integer">0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the first traversal removes vertices with the "name" field of "marko" and the second traversal verifies
that there are no vertices named "marko" after the first is executed.  After seeing success like that in the console,
it is all too tempting to copy and paste that line of code to a Java class like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.my.company</span>;

<span class="keyword">import</span> <span class="include">org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource</span>;

<span class="directive">public</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">Traversals</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> removeByName(GraphTraversalSource g, <span class="predefined-type">String</span> name) {
    g.V().has(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, name).drop();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, this won&#8217;t work and you will likely be left wondering why your unit test for "removeByName" is failing, but
the identical line of code in the console is doing what is expected.  The <code>drop()</code> step is not some special form
of terminating step that iterates the traversal - it is just one more step that vertices will pass through.  Outside
of the console you must add <code>iterate()</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.my.company</span>;

<span class="keyword">import</span> <span class="include">org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource</span>;

<span class="directive">public</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">Traversals</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> removeByName(GraphTraversalSource g, <span class="predefined-type">String</span> name) {
    g.V().has(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, name).drop().iterate();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The call to <code>iterate()</code> will do what the console does automatically, executing the <code>Traversal</code> instance and stepping
through the results.  You will generally use <code>iterate()</code> to generate side-effects (e.g. drop vertices from the
database), though it has its usage in the console as well.  If you have an especially long result set for which
side-effects will be generated, you can simply call <code>iterate()</code> on the traversal and avoid a long stream of output to
the console.</p>
</div>
<div class="paragraph">
<p>Gremlin written in the console usually has a copy and paste translation to source files (and vice versa). You need
only recall the rules of iteration when you move code between them. It is equally important that you keep an eye on
<code>Traversal</code> objects declared as inner traversals or within lambda expressions where they will not receive automatic
iteration. Keeping these semantics in mind will save you from many annoying debugging sessions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ad-hoc">Use Case: Ad-hoc Analysis</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>You are doing some general analysis on a graph with Gremlin and decide that you&#8217;d like to store those results in
<a href="http://cassandra.apache.org/">Apache Cassandra</a> for additional analysis with other tools.</em></p>
</div>
<div class="paragraph">
<p><span class="image" style="float: right"><img src="../../images/gremlin-explorer-old-photo.png" alt="gremlin explorer old photo" width="350"></span> The Gremlin Console is an indispensable tool for working
with graph data, but it is also well suited for working with other types of data as well. Its ability to process data
from different sources and formats provides a flexible environment for exploratory analysis. This ability stems from
the underlying Groovy Shell and the fact that any JVM-based libraries are easily imported into it, making their
classes and functions available at the prompt in conjunction with Gremlin.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s consider an example where you are exploring "The Crew" toy graph and that you are interested in doing some
analysis on where people live and when they lived there. You decide to start simple and just get a basic feeling for
the data of the "person" vertices in the graph:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; graph = TinkerFactory.createTheCrew()
==&gt;tinkergraph[<span class="key">vertices</span>:<span class="integer">6</span> <span class="key">edges</span>:<span class="integer">14</span>]
gremlin&gt; g = graph.traversal()
==&gt;graphtraversalsource[tinkergraph[<span class="key">vertices</span>:<span class="integer">6</span> <span class="key">edges</span>:<span class="integer">14</span>], standard]
gremlin&gt;
gremlin&gt; g.V().hasLabel(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).valueMap()
==&gt;[<span class="key">name</span>:[marko],<span class="key">location</span>:[san diego,santa cruz,brussels,santa fe]]
==&gt;[<span class="key">name</span>:[stephen],<span class="key">location</span>:[centreville,dulles,purcellville]]
==&gt;[<span class="key">name</span>:[matthias],<span class="key">location</span>:[bremen,baltimore,oakland,seattle]]
==&gt;[<span class="key">name</span>:[daniel],<span class="key">location</span>:[spremberg,kaiserslautern,aachen]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see from the output above that there are four "person" vertices and each has a "name" property and a "location"
property.  The "location" is actually a <a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#vertex-properties">multi-property</a>,
where "location" does not have one value, but several. If you look a bit closer you can also see that each "location"
has <a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#vertex-properties">meta-properties</a> as well:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; g.V().hasLabel(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).as(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).
               properties(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).as(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).
               select(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).by(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>).by(valueMap())
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">1997</span>,<span class="key">endTime</span>:<span class="integer">2001</span>]]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2001</span>,<span class="key">endTime</span>:<span class="integer">2004</span>]]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2004</span>,<span class="key">endTime</span>:<span class="integer">2005</span>]]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2005</span>]]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">1990</span>,<span class="key">endTime</span>:<span class="integer">2000</span>]]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2000</span>,<span class="key">endTime</span>:<span class="integer">2006</span>]]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2006</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2004</span>,<span class="key">endTime</span>:<span class="integer">2007</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2007</span>,<span class="key">endTime</span>:<span class="integer">2011</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2011</span>,<span class="key">endTime</span>:<span class="integer">2014</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2014</span>]]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">1982</span>,<span class="key">endTime</span>:<span class="integer">2005</span>]]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2005</span>,<span class="key">endTime</span>:<span class="integer">2009</span>]]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:[<span class="key">startTime</span>:<span class="integer">2009</span>]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>You are pleased.  You like that you have the basic data present to achieve your goal, but you see a couple of problems.
First, given a quick glance at the data, you can see that the data doesn&#8217;t uniformly start at a particular time.
You were hoping to see data presented in such a way that each "person" had data starting and ending in the same years.
For example, the first entry for "daniel" is "1982", while the first entry for "marko" is "1997" - where was "marko" in
"1982"? The second problem you can see is that the data really isn&#8217;t in a format that you need. Ideally, you would like
to have something that had rows and columns that was easily dumped to CSV for use in other tools. You currently have the
data in two separate traversals and the data is nested.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../images/graph-to-table.png" alt="graph to table"></span></p>
</div>
<div class="paragraph">
<p>As a first step to solving your problems, you first need to determine the earliest "startTime" that is common to all
the "person" vertices, as this will be the main filter for the data you intend to retrieve:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; firstYear = g.V().hasLabel(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).
                           local(properties(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).values(<span class="string"><span class="delimiter">'</span><span class="content">startTime</span><span class="delimiter">'</span></span>).min()).
                           max().next()
==&gt;<span class="integer">2004</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You store that result in a variable called "firstYear", as you will need that later to help filter results in the
traversal that ultimately gets the data. In this way, all "person" vertices can be compared from the same start time.
It is often helpful to store results from traversals if you intend to work with that data later and the traversal
itself is expensive to execute. It is only important to keep in mind that you will be limited by the memory available
to the console.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
You can change the amount of memory allotted to the console by altering its <code>-Xmx</code> setting in <code>bin/gremlin.sh</code>.
This setting controls the maximum size of the JVM memory allocation pool. To set this value to 1024 megabytes, you
would set this value as follows: <code>-Xmx1024m</code>. It is likely best to append this setting to the initialization of the
<code>JAVA_OPTIONS</code> variable in that script.  If you choose to override <code>JAVA_OPTIONS</code>, be sure to examine the default
settings in <code>bin/gremlin.sh</code> to include them as they should not be omitted in your override.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In an attempt to test things out, you take a naive approach at the traversal with your filter for "firstYear" applied:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; firstYear = g.V().hasLabel(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).
                           local(properties(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).values(<span class="string"><span class="delimiter">'</span><span class="content">startTime</span><span class="delimiter">'</span></span>).min()).
                           max().next()
==&gt;<span class="integer">2004</span>
gremlin&gt; l = g.V().hasLabel(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).as(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).
                   properties(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).or(has(<span class="string"><span class="delimiter">'</span><span class="content">endTime</span><span class="delimiter">'</span></span>,gt(firstYear)),hasNot(<span class="string"><span class="delimiter">'</span><span class="content">endTime</span><span class="delimiter">'</span></span>)).as(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).
                   valueMap().as(<span class="string"><span class="delimiter">'</span><span class="content">times</span><span class="delimiter">'</span></span>).
                   select(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">times</span><span class="delimiter">'</span></span>).by(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>).by(value).by().toList()
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:brussels,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2004</span>,<span class="key">endTime</span>:<span class="integer">2005</span>]]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2005</span>]]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:dulles,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2000</span>,<span class="key">endTime</span>:<span class="integer">2006</span>]]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2006</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:bremen,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2004</span>,<span class="key">endTime</span>:<span class="integer">2007</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:baltimore,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2007</span>,<span class="key">endTime</span>:<span class="integer">2011</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:oakland,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2011</span>,<span class="key">endTime</span>:<span class="integer">2014</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:seattle,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2014</span>]]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:spremberg,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">1982</span>,<span class="key">endTime</span>:<span class="integer">2005</span>]]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:kaiserslautern,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2005</span>,<span class="key">endTime</span>:<span class="integer">2009</span>]]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:aachen,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2009</span>]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you scan through the data, you can see that it appears to cover the range of time you were looking for. Of course,
you still have the problem of the format of the data. Recalling that the Gremlin Console is an extension of the Groovy
Console, you decide to just process "l" with some Groovy syntax to coerce it into the format that you would like to
see for your rows and columns style output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; firstYear = g.V().hasLabel(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).
                           local(properties(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).values(<span class="string"><span class="delimiter">'</span><span class="content">startTime</span><span class="delimiter">'</span></span>).min()).
                           max().next()
==&gt;<span class="integer">2004</span>
gremlin&gt; l = g.V().hasLabel(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).as(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).
                   properties(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).or(has(<span class="string"><span class="delimiter">'</span><span class="content">endTime</span><span class="delimiter">'</span></span>,gt(firstYear)),hasNot(<span class="string"><span class="delimiter">'</span><span class="content">endTime</span><span class="delimiter">'</span></span>)).as(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).
                   valueMap().as(<span class="string"><span class="delimiter">'</span><span class="content">times</span><span class="delimiter">'</span></span>).
                   select(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">times</span><span class="delimiter">'</span></span>).by(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>).by(value).by().toList()
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:brussels,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2004</span>,<span class="key">endTime</span>:<span class="integer">2005</span>]]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2005</span>]]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:dulles,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2000</span>,<span class="key">endTime</span>:<span class="integer">2006</span>]]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2006</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:bremen,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2004</span>,<span class="key">endTime</span>:<span class="integer">2007</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:baltimore,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2007</span>,<span class="key">endTime</span>:<span class="integer">2011</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:oakland,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2011</span>,<span class="key">endTime</span>:<span class="integer">2014</span>]]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:seattle,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2014</span>]]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:spremberg,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">1982</span>,<span class="key">endTime</span>:<span class="integer">2005</span>]]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:kaiserslautern,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2005</span>,<span class="key">endTime</span>:<span class="integer">2009</span>]]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:aachen,<span class="key">times</span>:[<span class="key">startTime</span>:<span class="integer">2009</span>]]
gremlin&gt; l.collect{
           row-&gt;((<span class="predefined-type">Math</span>.max(row.times.startTime,firstYear))..((row.times.endTime?:<span class="integer">2017</span>)-<span class="integer">1</span>)).collect{
             year-&gt;[<span class="key">person</span>:row.person,<span class="key">location</span>:row.location,<span class="key">year</span>:year]}}.flatten()
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:brussels,<span class="key">year</span>:<span class="integer">2004</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2005</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2006</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2007</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2008</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2009</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2010</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2011</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2012</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2013</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2014</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2015</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">location</span>:santa fe,<span class="key">year</span>:<span class="integer">2016</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:dulles,<span class="key">year</span>:<span class="integer">2004</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:dulles,<span class="key">year</span>:<span class="integer">2005</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2006</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2007</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2008</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2009</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2010</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2011</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2012</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2013</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2014</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2015</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">location</span>:purcellville,<span class="key">year</span>:<span class="integer">2016</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:bremen,<span class="key">year</span>:<span class="integer">2004</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:bremen,<span class="key">year</span>:<span class="integer">2005</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:bremen,<span class="key">year</span>:<span class="integer">2006</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:baltimore,<span class="key">year</span>:<span class="integer">2007</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:baltimore,<span class="key">year</span>:<span class="integer">2008</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:baltimore,<span class="key">year</span>:<span class="integer">2009</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:baltimore,<span class="key">year</span>:<span class="integer">2010</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:oakland,<span class="key">year</span>:<span class="integer">2011</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:oakland,<span class="key">year</span>:<span class="integer">2012</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:oakland,<span class="key">year</span>:<span class="integer">2013</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:seattle,<span class="key">year</span>:<span class="integer">2014</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:seattle,<span class="key">year</span>:<span class="integer">2015</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">location</span>:seattle,<span class="key">year</span>:<span class="integer">2016</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:spremberg,<span class="key">year</span>:<span class="integer">2004</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:kaiserslautern,<span class="key">year</span>:<span class="integer">2005</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:kaiserslautern,<span class="key">year</span>:<span class="integer">2006</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:kaiserslautern,<span class="key">year</span>:<span class="integer">2007</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:kaiserslautern,<span class="key">year</span>:<span class="integer">2008</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:aachen,<span class="key">year</span>:<span class="integer">2009</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:aachen,<span class="key">year</span>:<span class="integer">2010</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:aachen,<span class="key">year</span>:<span class="integer">2011</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:aachen,<span class="key">year</span>:<span class="integer">2012</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:aachen,<span class="key">year</span>:<span class="integer">2013</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:aachen,<span class="key">year</span>:<span class="integer">2014</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:aachen,<span class="key">year</span>:<span class="integer">2015</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">location</span>:aachen,<span class="key">year</span>:<span class="integer">2016</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>You had to apply a bit of brute force, but now you have the rows and columns you wanted, with the data normalized and
flattened in such a way that each year since "2004" is represented all the way up to "2016".</p>
</div>
<div class="paragraph">
<p><span class="image" style="float: right"><img src="../../images/gremlin-asciiart.png" alt="gremlin asciiart" width="225"></span> Unfortunately, you are unsatisfied. The added Groovy processing of
"l" feels "wrong" despite it producing the correct output.  It has that unfortunate hack for dealing with the
possibility that the "endTime" property contains a "null" value, thus hard-coding the "2017" year into the it (you
want the years through "2016").  You also recall that the Gremlin language has advanced considerably in TinkerPop 3.x
and that it is usually possible to eliminate closures and other direct processing with Groovy. With those issues in
mind, you look to enhance your work.</p>
</div>
<div id="import-command" class="paragraph">
<p>A first step would be to get rid of the hard-coded "2017". You decide to get the current year programmatically by
using <code>java.time.Year</code>. This class is not one that is available by default in the console. You might think of this as
similar to what happens when you decide to use a particular class in a Java file.  You must "import" the classes that
you wish to use. To do this, you need to use the <code>import</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; <span class="keyword">import</span> <span class="include">java.time.Year</span>
==&gt;groovy.grape.Grape, org.apache.commons.configuration.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.*, org.apache.tinkerpop.gremlin.process.computer.bulkloading.*, org.apache.tinkerpop.gremlin.process.computer.traversal.*, org.apache.tinkerpop.gremlin.util.function.*, org.apache.tinkerpop.gremlin.structure.io.*, org.apache.tinkerpop.gremlin.process.computer.ranking.pagerank.*, groovy.sql.*, org.apache.tinkerpop.gremlin.groovy.loaders.*, groovy.json.*, org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.*, org.apache.tinkerpop.gremlin.structure.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.*, org.apache.tinkerpop.gremlin.process.traversal.engine.*, org.apache.tinkerpop.gremlin.groovy.jsr223.*, org.apache.tinkerpop.gremlin.structure.io.gryo.*, org.apache.tinkerpop.gremlin.process.remote.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.*, org.apache.tinkerpop.gremlin.process.traversal.step.util.event.*, org.apache.tinkerpop.gremlin.util.*, org.apache.tinkerpop.gremlin.structure.util.*, org.apache.tinkerpop.gremlin.structure.io.graphml.*, org.apache.tinkerpop.gremlin.process.computer.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.finalization.*, org.apache.tinkerpop.gremlin.process.computer.traversal.strategy.optimization.*, org.apache.tinkerpop.gremlin.process.computer.clustering.peerpressure.*, org.apache.tinkerpop.gremlin.structure.util.detached.*, org.apache.tinkerpop.gremlin.structure.io.graphson.*, org.apache.tinkerpop.gremlin.process.traversal.*, org.apache.tinkerpop.gremlin.process.computer.traversal.strategy.decoration.*, org.apache.tinkerpop.gremlin.process.computer.bulkdumping.*, org.apache.tinkerpop.gremlin.structure.util.empty.*, org.apache.tinkerpop.gremlin.process.traversal.util.*, org.apache.tinkerpop.gremlin.groovy.function.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.SackFunctions.Barrier.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.util.TimeUtil.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.Direction.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Pop.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.step.TraversalOptionParent.Pick.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.VertexProperty.Cardinality.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.P.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Order.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.__.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.io.IoCore.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Scope.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.Column.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.computer.Computer.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.T.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Operator.*, org.apache.tinkerpop.gremlin.driver.ser.*, org.apache.tinkerpop.gremlin.driver.message.*, org.apache.tinkerpop.gremlin.driver.exception.*, org.apache.tinkerpop.gremlin.driver.remote.*, org.apache.tinkerpop.gremlin.driver.*, <span class="directive">static</span> groovyx.gbench.BenchmarkStaticExtension.*, <span class="directive">static</span> groovyx.gprof.ProfileStaticExtension.*, groovyx.gprof.*, groovyx.gbench.*, org.apache.tinkerpop.gremlin.giraph.process.computer.*, org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat, org.apache.hadoop.hdfs.*, org.apache.hadoop.mapreduce.lib.input.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.*, org.apache.tinkerpop.gremlin.hadoop.process.computer.mapreduce.*, org.apache.hadoop.conf.*, org.apache.hadoop.util.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.gryo.*, org.apache.tinkerpop.gremlin.hadoop.structure.*, org.apache.hadoop.io.compress.*, org.apache.tinkerpop.gremlin.hadoop.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.graphson.*, org.apache.hadoop.io.*, org.apache.log4j.*, org.apache.hadoop.mapreduce.lib.output.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.script.*, org.apache.tinkerpop.gremlin.hadoop.structure.util.*, org.apache.hadoop.fs.*, org.apache.tinkerpop.gremlin.groovy.plugin.dsl.credential.CredentialGraph, <span class="directive">static</span> org.apache.tinkerpop.gremlin.groovy.plugin.dsl.credential.CredentialGraph.*, org.apache.tinkerpop.gremlin.neo4j.structure.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.neo4j.process.traversal.LabelP.*, org.apache.tinkerpop.gremlin.spark.process.computer.*, org.apache.tinkerpop.gremlin.spark.structure.*, org.apache.tinkerpop.gremlin.spark.structure.io.*, org.apache.tinkerpop.gremlin.tinkergraph.structure.*, org.apache.tinkerpop.gremlin.tinkergraph.process.computer.*, java.time.Year
gremlin&gt; Year.now()
==&gt;<span class="integer">2017</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can now use <code>Year</code> with the <a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#constant-step">constant()</a> step,
to produce the set of years to have for each person up to the current year:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; <span class="keyword">import</span> <span class="include">java.time.Year</span>
==&gt;groovy.grape.Grape, org.apache.commons.configuration.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.*, org.apache.tinkerpop.gremlin.process.computer.bulkloading.*, org.apache.tinkerpop.gremlin.process.computer.traversal.*, org.apache.tinkerpop.gremlin.util.function.*, org.apache.tinkerpop.gremlin.structure.io.*, org.apache.tinkerpop.gremlin.process.computer.ranking.pagerank.*, groovy.sql.*, org.apache.tinkerpop.gremlin.groovy.loaders.*, groovy.json.*, org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.*, org.apache.tinkerpop.gremlin.structure.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.*, org.apache.tinkerpop.gremlin.process.traversal.engine.*, org.apache.tinkerpop.gremlin.groovy.jsr223.*, org.apache.tinkerpop.gremlin.structure.io.gryo.*, org.apache.tinkerpop.gremlin.process.remote.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.*, org.apache.tinkerpop.gremlin.process.traversal.step.util.event.*, org.apache.tinkerpop.gremlin.util.*, org.apache.tinkerpop.gremlin.structure.util.*, org.apache.tinkerpop.gremlin.structure.io.graphml.*, org.apache.tinkerpop.gremlin.process.computer.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.finalization.*, org.apache.tinkerpop.gremlin.process.computer.traversal.strategy.optimization.*, org.apache.tinkerpop.gremlin.process.computer.clustering.peerpressure.*, org.apache.tinkerpop.gremlin.structure.util.detached.*, org.apache.tinkerpop.gremlin.structure.io.graphson.*, org.apache.tinkerpop.gremlin.process.traversal.*, org.apache.tinkerpop.gremlin.process.computer.traversal.strategy.decoration.*, org.apache.tinkerpop.gremlin.process.computer.bulkdumping.*, org.apache.tinkerpop.gremlin.structure.util.empty.*, org.apache.tinkerpop.gremlin.process.traversal.util.*, org.apache.tinkerpop.gremlin.groovy.function.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.SackFunctions.Barrier.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.util.TimeUtil.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.Direction.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Pop.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.step.TraversalOptionParent.Pick.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.VertexProperty.Cardinality.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.P.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Order.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.__.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.io.IoCore.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Scope.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.Column.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.computer.Computer.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.T.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Operator.*, org.apache.tinkerpop.gremlin.driver.ser.*, org.apache.tinkerpop.gremlin.driver.message.*, org.apache.tinkerpop.gremlin.driver.exception.*, org.apache.tinkerpop.gremlin.driver.remote.*, org.apache.tinkerpop.gremlin.driver.*, <span class="directive">static</span> groovyx.gbench.BenchmarkStaticExtension.*, <span class="directive">static</span> groovyx.gprof.ProfileStaticExtension.*, groovyx.gprof.*, groovyx.gbench.*, org.apache.tinkerpop.gremlin.giraph.process.computer.*, org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat, org.apache.hadoop.hdfs.*, org.apache.hadoop.mapreduce.lib.input.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.*, org.apache.tinkerpop.gremlin.hadoop.process.computer.mapreduce.*, org.apache.hadoop.conf.*, org.apache.hadoop.util.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.gryo.*, org.apache.tinkerpop.gremlin.hadoop.structure.*, org.apache.hadoop.io.compress.*, org.apache.tinkerpop.gremlin.hadoop.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.graphson.*, org.apache.hadoop.io.*, org.apache.log4j.*, org.apache.hadoop.mapreduce.lib.output.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.script.*, org.apache.tinkerpop.gremlin.hadoop.structure.util.*, org.apache.hadoop.fs.*, org.apache.tinkerpop.gremlin.groovy.plugin.dsl.credential.CredentialGraph, <span class="directive">static</span> org.apache.tinkerpop.gremlin.groovy.plugin.dsl.credential.CredentialGraph.*, org.apache.tinkerpop.gremlin.neo4j.structure.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.neo4j.process.traversal.LabelP.*, org.apache.tinkerpop.gremlin.spark.process.computer.*, org.apache.tinkerpop.gremlin.spark.structure.*, org.apache.tinkerpop.gremlin.spark.structure.io.*, org.apache.tinkerpop.gremlin.tinkergraph.structure.*, org.apache.tinkerpop.gremlin.tinkergraph.process.computer.*, java.time.Year
gremlin&gt; firstYear = g.V().hasLabel(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).
                           local(properties(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).values(<span class="string"><span class="delimiter">'</span><span class="content">startTime</span><span class="delimiter">'</span></span>).min()).
                           max().next()
==&gt;<span class="integer">2004</span>
gremlin&gt; g.V().hasLabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).as(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).
               constant((firstYear..(Year.now().value)).toList()).unfold().as(<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>).
               select(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">year</span><span class="delimiter">'</span></span>).by(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>).by()
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2004</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2005</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2006</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2007</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2008</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2009</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2010</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2011</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2012</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2013</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2014</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2015</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2016</span>]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2017</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2004</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2005</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2006</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2007</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2008</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2009</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2010</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2011</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2012</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2013</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2014</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2015</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2016</span>]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2017</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2004</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2005</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2006</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2007</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2008</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2009</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2010</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2011</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2012</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2013</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2014</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2015</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2016</span>]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2017</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2004</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2005</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2006</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2007</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2008</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2009</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2010</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2011</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2012</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2013</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2014</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2015</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2016</span>]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2017</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>From there you can build on that traversal to grab the "location" given the generated "year" for that data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; <span class="keyword">import</span> <span class="include">java.time.Year</span>
==&gt;groovy.grape.Grape, org.apache.commons.configuration.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.*, org.apache.tinkerpop.gremlin.process.computer.bulkloading.*, org.apache.tinkerpop.gremlin.process.computer.traversal.*, org.apache.tinkerpop.gremlin.util.function.*, org.apache.tinkerpop.gremlin.structure.io.*, org.apache.tinkerpop.gremlin.process.computer.ranking.pagerank.*, groovy.sql.*, org.apache.tinkerpop.gremlin.groovy.loaders.*, groovy.json.*, org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.*, org.apache.tinkerpop.gremlin.structure.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.*, org.apache.tinkerpop.gremlin.process.traversal.engine.*, org.apache.tinkerpop.gremlin.groovy.jsr223.*, org.apache.tinkerpop.gremlin.structure.io.gryo.*, org.apache.tinkerpop.gremlin.process.remote.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.*, org.apache.tinkerpop.gremlin.process.traversal.step.util.event.*, org.apache.tinkerpop.gremlin.util.*, org.apache.tinkerpop.gremlin.structure.util.*, org.apache.tinkerpop.gremlin.structure.io.graphml.*, org.apache.tinkerpop.gremlin.process.computer.*, org.apache.tinkerpop.gremlin.process.traversal.strategy.finalization.*, org.apache.tinkerpop.gremlin.process.computer.traversal.strategy.optimization.*, org.apache.tinkerpop.gremlin.process.computer.clustering.peerpressure.*, org.apache.tinkerpop.gremlin.structure.util.detached.*, org.apache.tinkerpop.gremlin.structure.io.graphson.*, org.apache.tinkerpop.gremlin.process.traversal.*, org.apache.tinkerpop.gremlin.process.computer.traversal.strategy.decoration.*, org.apache.tinkerpop.gremlin.process.computer.bulkdumping.*, org.apache.tinkerpop.gremlin.structure.util.empty.*, org.apache.tinkerpop.gremlin.process.traversal.util.*, org.apache.tinkerpop.gremlin.groovy.function.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.SackFunctions.Barrier.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.util.TimeUtil.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.Direction.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Pop.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.step.TraversalOptionParent.Pick.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.VertexProperty.Cardinality.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.P.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Order.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.__.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.io.IoCore.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Scope.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.Column.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.computer.Computer.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.structure.T.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.process.traversal.Operator.*, org.apache.tinkerpop.gremlin.driver.ser.*, org.apache.tinkerpop.gremlin.driver.message.*, org.apache.tinkerpop.gremlin.driver.exception.*, org.apache.tinkerpop.gremlin.driver.remote.*, org.apache.tinkerpop.gremlin.driver.*, <span class="directive">static</span> groovyx.gbench.BenchmarkStaticExtension.*, <span class="directive">static</span> groovyx.gprof.ProfileStaticExtension.*, groovyx.gprof.*, groovyx.gbench.*, org.apache.tinkerpop.gremlin.giraph.process.computer.*, org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat, org.apache.hadoop.hdfs.*, org.apache.hadoop.mapreduce.lib.input.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.*, org.apache.tinkerpop.gremlin.hadoop.process.computer.mapreduce.*, org.apache.hadoop.conf.*, org.apache.hadoop.util.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.gryo.*, org.apache.tinkerpop.gremlin.hadoop.structure.*, org.apache.hadoop.io.compress.*, org.apache.tinkerpop.gremlin.hadoop.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.graphson.*, org.apache.hadoop.io.*, org.apache.log4j.*, org.apache.hadoop.mapreduce.lib.output.*, org.apache.tinkerpop.gremlin.hadoop.structure.io.script.*, org.apache.tinkerpop.gremlin.hadoop.structure.util.*, org.apache.hadoop.fs.*, org.apache.tinkerpop.gremlin.groovy.plugin.dsl.credential.CredentialGraph, <span class="directive">static</span> org.apache.tinkerpop.gremlin.groovy.plugin.dsl.credential.CredentialGraph.*, org.apache.tinkerpop.gremlin.neo4j.structure.*, <span class="directive">static</span> org.apache.tinkerpop.gremlin.neo4j.process.traversal.LabelP.*, org.apache.tinkerpop.gremlin.spark.process.computer.*, org.apache.tinkerpop.gremlin.spark.structure.*, org.apache.tinkerpop.gremlin.spark.structure.io.*, org.apache.tinkerpop.gremlin.tinkergraph.structure.*, org.apache.tinkerpop.gremlin.tinkergraph.process.computer.*, java.time.Year
gremlin&gt; firstYear = g.V().hasLabel(<span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>).
                           local(properties(<span class="string"><span class="delimiter">'</span><span class="content">location</span><span class="delimiter">'</span></span>).values(<span class="string"><span class="delimiter">'</span><span class="content">startTime</span><span class="delimiter">'</span></span>).min()).
                           max().next()
==&gt;<span class="integer">2004</span>
gremlin&gt; g.V().hasLabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).as(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).
               constant((firstYear..(<span class="keyword">new</span> <span class="predefined-type">Date</span>().getYear() + <span class="integer">1900</span>)).toList()).unfold().as(<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>).
               select(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).coalesce(
                 properties(<span class="string"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>).filter(values(<span class="string"><span class="delimiter">&quot;</span><span class="content">startTime</span><span class="delimiter">&quot;</span></span>).where(gte(<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>))).
                                        order().by(<span class="string"><span class="delimiter">&quot;</span><span class="content">startTime</span><span class="delimiter">&quot;</span></span>).limit(<span class="integer">1</span>),
                 properties(<span class="string"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>).hasNot(<span class="string"><span class="delimiter">&quot;</span><span class="content">endTime</span><span class="delimiter">&quot;</span></span>)).value().as(<span class="string"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>).
               select(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>).by(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>).by().by()
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2004</span>,<span class="key">location</span>:brussels]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2005</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2006</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2007</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2008</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2009</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2010</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2011</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2012</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2013</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2014</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2015</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2016</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:marko,<span class="key">year</span>:<span class="integer">2017</span>,<span class="key">location</span>:santa fe]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2004</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2005</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2006</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2007</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2008</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2009</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2010</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2011</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2012</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2013</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2014</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2015</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2016</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:stephen,<span class="key">year</span>:<span class="integer">2017</span>,<span class="key">location</span>:purcellville]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2004</span>,<span class="key">location</span>:bremen]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2005</span>,<span class="key">location</span>:baltimore]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2006</span>,<span class="key">location</span>:baltimore]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2007</span>,<span class="key">location</span>:baltimore]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2008</span>,<span class="key">location</span>:oakland]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2009</span>,<span class="key">location</span>:oakland]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2010</span>,<span class="key">location</span>:oakland]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2011</span>,<span class="key">location</span>:oakland]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2012</span>,<span class="key">location</span>:seattle]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2013</span>,<span class="key">location</span>:seattle]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2014</span>,<span class="key">location</span>:seattle]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2015</span>,<span class="key">location</span>:seattle]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2016</span>,<span class="key">location</span>:seattle]
==&gt;[<span class="key">person</span>:matthias,<span class="key">year</span>:<span class="integer">2017</span>,<span class="key">location</span>:seattle]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2004</span>,<span class="key">location</span>:kaiserslautern]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2005</span>,<span class="key">location</span>:kaiserslautern]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2006</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2007</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2008</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2009</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2010</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2011</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2012</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2013</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2014</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2015</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2016</span>,<span class="key">location</span>:aachen]
==&gt;[<span class="key">person</span>:daniel,<span class="key">year</span>:<span class="integer">2017</span>,<span class="key">location</span>:aachen]</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Not sure what the above traversal is doing?  When you come across a traversal that you don&#8217;t understand fully,
the Gremlin Console is great place to get help.  You can dismantle a large traversal and execute it in smaller parts
to see what each part produces as output.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You now have a traversal written with idiomatic Gremlin with the results in the form that you wanted to have. Now
you&#8217;d like to dump this data to Cassandra for further analysis in another tool.  You decide to use the DataStax
<a href="https://github.com/datastax/java-driver">java-driver</a> in the console to write to Cassandra.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../images/graph-to-table-to-cassandra.png" alt="graph to table to cassandra"></span></p>
</div>
<div id="install-command" class="paragraph">
<p>The driver does not come bundled with the console and is not available on its classpath by default.  You can bring
other libraries into the console with the <code>:install</code> command. With <code>:install</code>, you can reference the Maven
coordinates (i.e. group, artifact, and version) of a library to have it automatically downloaded from a Maven
repository and placed into the console classpath. If you have read through the reference documentation, you would find
a number of examples of <code>:install</code> usage to bring in unbundled TinkerPop libraries, like
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#neo4j-gremlin">neo4j-gremlin</a> or
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#hadoop-gremlin">hadoop-gremlin</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Before you use the <code>:install</code> command, please be sure to read the reference documentation on
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#gremlin-applications">Grape configuration</a>. If you do not have proper
settings in place, it is likely that the <code>:install</code> command will fail by way of download errors.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
You can also manually "install" dependencies to the console by copying them into the Gremlin Console classpath.
This is most easily accomplished by copying the required jar files to the <code>GREMLIN_HOME/lib</code> directory.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; :install com.datastax.cassandra cassandra-driver-core <span class="float">2.1</span><span class="float">.9</span>
==&gt;<span class="key">Loaded</span>: [com.datastax.cassandra, cassandra-driver-core, <span class="float">2.1</span><span class="float">.9</span>]
gremlin&gt; <span class="keyword">import</span> <span class="include">com.datastax.driver.core.*</span>
==&gt;groovy.grape.Grape, org.apache.commons.configuration.*, ..., com.datastax.driver.core.*
gremlin&gt; <span class="keyword">import</span> <span class="include">static</span> <span class="include">com.datastax.driver.core.querybuilder.QueryBuilder.*</span>
==&gt;groovy.grape.Grape, org.apache.commons.configuration.*, ..., <span class="directive">static</span> com.datastax.driver.core.querybuilder.QueryBuilder.*
gremlin&gt; cluster = com.datastax.driver.core.Cluster.builder().addContactPoint(<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>).build()
==&gt;com.datastax.driver.core.Cluster<span class="error">@</span><span class="float">3e1624</span>c7
gremlin&gt; session = cluster.connect()
==&gt;com.datastax.driver.core.SessionManager<span class="error">@</span><span class="integer">35764</span>bef
gremlin&gt; session.execute(<span class="string"><span class="delimiter">&quot;</span><span class="content">CREATE KEYSPACE crew WITH REPLICATION = { 'class' : 'SimpleStrategy', 'replication_factor' : 3 }</span><span class="delimiter">&quot;</span></span>)
gremlin&gt; session.execute(<span class="string"><span class="delimiter">&quot;</span><span class="content">USE crew</span><span class="delimiter">&quot;</span></span>)
gremlin&gt; session.execute(<span class="string"><span class="delimiter">&quot;</span><span class="content">CREATE TABLE locations ( name varchar, location varchar, year int, PRIMARY KEY (name, year))</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above code, you first use <code>:install</code> to pull in the dependencies of the driver.  When that first line has
executed to completion you can inspect the <code>GREMLIN_HOME/ext</code> directory to see that the appropriate jar files have
been copied to the classpath. The remaining lines of code demonstrate how to instantiate a driver instance to
connect to a running Cassandra instance. <a href="http://docs.datastax.com/en/cql/3.1/cql/cql_reference/cqlReferenceTOC.html">CQL</a>
statements are then issued to create the keyspace and table to hold the data.</p>
</div>
<div class="paragraph">
<p>Now that you have a <code>Session</code> established with a table to store the data in, you can iterate through the <code>Traversal</code>
and stream the data to Cassandra:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; g.V().hasLabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).as(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).
gremlin&gt;       constant((firstYear..(<span class="keyword">new</span> <span class="predefined-type">Date</span>().getYear() + <span class="integer">1900</span>)).toList()).unfold().as(<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>).
gremlin&gt;       select(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).coalesce(
gremlin&gt;         properties(<span class="string"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>).filter(values(<span class="string"><span class="delimiter">&quot;</span><span class="content">startTime</span><span class="delimiter">&quot;</span></span>).where(gte(<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>))).
gremlin&gt;                                order().by(<span class="string"><span class="delimiter">&quot;</span><span class="content">startTime</span><span class="delimiter">&quot;</span></span>).limit(<span class="integer">1</span>),
gremlin&gt;         properties(<span class="string"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>).hasNot(<span class="string"><span class="delimiter">&quot;</span><span class="content">endTime</span><span class="delimiter">&quot;</span></span>)).value().as(<span class="string"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>).
gremlin&gt;       select(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>).by(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>).by().by().
gremlin&gt;       forEachRemaining{
gremlin&gt;         <span class="keyword">def</span> statement = insertInto(<span class="string"><span class="delimiter">&quot;</span><span class="content">locations</span><span class="delimiter">&quot;</span></span>).
gremlin&gt;                         value(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="local-variable">it</span>.person).
gremlin&gt;                         value(<span class="string"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>, <span class="local-variable">it</span>.location).
gremlin&gt;                         value(<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>, <span class="local-variable">it</span>.year)
gremlin&gt;         session.execute(statement)
gremlin&gt;       }
gremlin&gt; session.execute(select().all().from(<span class="string"><span class="delimiter">&quot;</span><span class="content">locations</span><span class="delimiter">&quot;</span></span>))
==&gt;Row[daniel, <span class="integer">2004</span>, kaiserslautern]
==&gt;Row[daniel, <span class="integer">2005</span>, kaiserslautern]
==&gt;Row[daniel, <span class="integer">2006</span>, aachen]
==&gt;Row[daniel, <span class="integer">2007</span>, aachen]
==&gt;Row[daniel, <span class="integer">2008</span>, aachen]
==&gt;Row[daniel, <span class="integer">2009</span>, aachen]
==&gt;Row[daniel, <span class="integer">2010</span>, aachen]
...
==&gt;Row[stephen, <span class="integer">2015</span>, purcellville]
==&gt;Row[stephen, <span class="integer">2016</span>, purcellville]</code></pre>
</div>
</div>
<div id="def-usage" class="paragraph">
<p>Iteration is performed by the call to <code>forEachRemaining()</code>. The closure supplied to that method is applied to each "row"
in the <code>Traversal</code>.  Note the use of <code>def</code> in that closure to declare the "statement" variable. In the console, the
use of <code>def</code> inside a closure scopes that variable to the closure.  Without <code>def</code> the "row" variable would
be accessible globally (i.e. at the <code>gremlin&gt;</code> prompt). The use of <code>def</code> at the console prompt for variable definition
is unecessary and will result in error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gremlin&gt; <span class="keyword">def</span> x = <span class="integer">10</span>
==&gt;<span class="integer">10</span>
gremlin&gt; x
No such <span class="key">property</span>: x <span class="keyword">for</span> <span class="type">class</span>: <span class="class">groovysh_evaluate</span>
Display stack trace? [yN] n</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
If you find that you always work with a particular library, consider starting the console with an initialization
script that prepares your environment for you and start Gremlin Console in
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#interactive-mode">interactive mode</a>. An "initialization script"
is just a Groovy script that contains the initial commands to execute when the console starts.  Following the use case,
it would be nice if the initialization script contained the <code>import</code> statement for the driver and possibly the code to
get the <code>Session</code> object ready for use. Start the Gremlin Console with that script by just adding it as an argument on
the command line: <code>bin/gremlin.sh -i init.groovy</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This use case focused on using a Cassandra related library, but it should be evident that it would be equally
straightforward to perform this same data dump to <a href="https://hbase.apache.org/">HBase</a>,
<a href="https://en.wikipedia.org/wiki/Microsoft_SQL_Server">Microsoft SQL Server</a>,
<a href="https://www.mongodb.org/">MongoDB</a>, etc.  You should further note, that you are not restricted to a "data dump".
You could just as easily <code>:install</code> libraries to read data from <a href="https://en.wikipedia.org/wiki/Oracle_Database">Oracle</a>
into a graph, use functions from <a href="https://commons.apache.org/proper/commons-math/">Commons Math</a>, or do anything
else you can think of with available JVM libraries.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These use cases have tried to demonstrate some of the common ways in which you can use the Gremlin Console. In the
process, they exposed tips and pitfalls to be aware of when working with it. Hopefully, you have gained some new
knowledge on what the console can do for you and have been inspired to work with it in more productive ways.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-08-21 14:24:31 EDT
</div>
</div>
</body>
</html>
