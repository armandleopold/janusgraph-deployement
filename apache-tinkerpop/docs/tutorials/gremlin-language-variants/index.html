<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>Gremlin Language Variants</title>
<style>
/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */

/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
@import url(http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.css);
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #6c818f; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #444444; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #111111; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: ff-meta-web-pro-1, ff-meta-web-pro-2, Arial, "Helvetica Neue", sans-serif; font-weight: bold; font-style: normal; color: #465158; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #909ea7; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Consolas", "Deja Vu Sans Mono", "Bitstream Vera Sans Mono", monospace; font-weight: normal; color: #444444; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 0; }
ul.no-bullet, ol.no-bullet { margin-left: 0; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #748590; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #748590; }

blockquote, blockquote p { line-height: 1.5; color: #909ea7; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Print styles.  Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/ Credit to Paul Irish and HTML5 Boilerplate (html5boilerplate.com)
*/
.print-only { display: none !important; }

@media print { * { background: transparent !important; color: #000 !important; /* Black prints faster: h5bp.com/s */ box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; /* h5bp.com/t */ }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 0 #dddddd; }
table thead, table tfoot { background: none; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 1px 8px 1px 5px; font-size: 1em; color: #222222; text-align: left; }
table tr th, table tr td { padding: 1px 8px 1px 5px; font-size: 1em; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: none; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.5; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 0.95em; padding: 0; white-space: nowrap; background-color: #f2f2f2; border: 0 solid #dddddd; -webkit-border-radius: 6px; border-radius: 6px; text-shadow: none; }

pre, pre > code { line-height: 1.2; color: inherit; font-family: "Consolas", "Deja Vu Sans Mono", "Bitstream Vera Sans Mono", monospace; font-weight: normal; }

.keyseq { color: #333333; }

kbd:not(.keyseq) { display: inline-block; color: black; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: black; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: #373737; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#header { margin-bottom: 2.5em; }
#header > h1 { color: #111111; font-weight: bold; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #909ea7; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }

#toctitle { color: #6c818f; }

@media only screen and (min-width: 768px) { body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: .90em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 6px; border-radius: 6px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }

#content #toctitle { font-weight: bold; font-family: ff-meta-web-pro-1, ff-meta-web-pro-2, Arial, "Helvetica Neue", sans-serif; font-size: 1em; padding-left: 0.125em; }

#footer { max-width: 100%; background-color: black; padding: 1.25em; }

#footer-text { color: white; line-height: 1.35; }

.sect1 { padding-bottom: 1.25em; }

.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #465158; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #3b444a; }

.imageblock, .literalblock, .listingblock, .mathblock, .verseblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }

.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #909ea7; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 6px; border-radius: 6px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }

.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 6px; border-radius: 6px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #6c818f; margin-top: 0; line-height: 1.5; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre:not([class]), .listingblock pre:not([class]) { background: #eeeeee; }
.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border-width: 1px; border-style: solid; border-color: #cccccc; -webkit-border-radius: 6px; border-radius: 6px; padding: 0.5em; word-wrap: break-word; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock pre > code, .literalblock pre[class] > code, .listingblock pre > code, .listingblock pre[class] > code { display: block; }
@media only screen { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.76em; } }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.855em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.95em; } }

.listingblock pre.highlight { padding: 0; }
.listingblock pre.highlight > code { padding: 0.5em; }

.listingblock > .content { position: relative; }

.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }

.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.sass:before { content: "sass"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }

table.pyhltable { border: 0; margin-bottom: 0; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }

.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: 0.8125em; color: #748590; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }

table thead th, table tfoot th { font-weight: bold; }

table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 6px; border-radius: 6px; border-top: 0 solid #dddddd; border-bottom: 0 solid #dddddd; }

table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }

table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }

table.tableblock td .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }

th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }

th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }

th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }

th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }

th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }

tbody tr th { display: table-cell; line-height: 1.5; background: none; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

td > div.verse { white-space: pre; }

ol { margin-left: 0.25em; }

ul li ol { margin-left: 0; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 .75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.qanda > ol > li > p > em:only-child { color: #373737; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }

.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #444444; color: #333333; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum { display: inline-block; color: white !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }

.listingblock code { white-space: pre; overflow: auto; overflow-wrap: normal; /* needed for webkit browsers */ }

#toc ul.sectlevel0 > li > a { font-style: normal; font-weight: bold; }

h4 { color: #6c818f; }

.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 6px; border-radius: 6px; margin-left: 2em; margin-right: 2em; }

.admonitionblock { margin-left: 2em; margin-right: 2em; }
.admonitionblock > table { border: 1px solid #609060; border-top-width: 1.5em; background-color: #e9ffe9; border-collapse: separate; -webkit-border-radius: 0; border-radius: 0; }
.admonitionblock > table td.icon { padding-top: .5em; padding-bottom: .5em; }
.admonitionblock > table td.content { padding: .5em 1em; color: black; font-size: .9em; border-left: none; }

.sidebarblock { background-color: #e8ecef; border-color: #ccc; }
.sidebarblock > .content > .title { color: #444444; }

table.tableblock.grid-all { border-collapse: collapse; -webkit-border-radius: 0; border-radius: 0; }
table.tableblock.grid-all th.tableblock, table.tableblock.grid-all td.tableblock { border-bottom: 1px solid #aaa; }

#footer { background-color: #465158; padding: 2em; }

#footer-text { color: #eee; font-size: 0.8em; text-align: center; }

.invisible {position: absolute; left: 9999px}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="imageblock">
<div class="content">
<a class="image" href="http://tinkerpop.apache.org"><img src="../../images/apache-tinkerpop-logo.png" alt="apache tinkerpop logo" width="500"></a>
</div>
</div>
<div class="paragraph">
<p><strong>3.2.6</strong></p>
</div>
<div class="sect1">
<h2 id="_gremlin_language_variants">Gremlin Language Variants</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Gremlin is an embeddable query language that can be represented using the constructs of a host programming language.
Any programming language that supports <a href="https://en.wikipedia.org/wiki/Function_composition">function composition</a>
(e.g. fluent chaining) and <a href="https://en.wikipedia.org/wiki/Nested_function">function nesting</a> (e.g. call stacks)
can support Gremlin. Nearly every modern programming language is capable of meeting both requirements.
With Gremlin, the distinction between a programming language and a query language is not as large as they
have historically been. For instance, with Gremlin-Java, the developer is able to have their application code and their
graph database queries at the same level of abstraction&#8201;&#8212;&#8201;both written in Java. A simple example is presented below
where the <code>MyApplication</code> Java class contains both application-level and database-level code written in Java.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../images/gremlin-house-of-mirrors.png" alt="gremlin house of mirrors" width="1024">
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
This is an advanced tutorial intended for experts knowledgeable in Gremlin in particular and TinkerPop in general.
Moreover, the audience should understand advanced programming language concepts such as reflection, meta-programming,
source code generation, and virtual machines.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyApplication</span> {

  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> run(<span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> args) {

    <span class="comment">// assumes args[0] is a configuration file location</span>
    Graph graph = GraphFactory.open(args[<span class="integer">0</span>]);
    GraphTraversalSource g = graph.traversal();

    <span class="comment">// assumes that args[1] and args[2] are range boundaries</span>
    <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">Double</span>&gt;&gt; result =
      g.V().hasLabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">product</span><span class="delimiter">&quot;</span></span>).
        order().by(<span class="string"><span class="delimiter">&quot;</span><span class="content">unitPrice</span><span class="delimiter">&quot;</span></span>, incr).
        range(<span class="predefined-type">Integer</span>.valueOf(args[<span class="integer">1</span>]), <span class="predefined-type">Integer</span>.valueOf(args[<span class="integer">2</span>])).
        valueMap(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">unitPrice</span><span class="delimiter">&quot;</span></span>)

    <span class="keyword">while</span>(result.hasNext()) {
      <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>,<span class="predefined-type">Double</span>&gt; map = result.next();
      <span class="predefined-type">System</span>.out.println(map.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>) + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + map.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">unitPrice</span><span class="delimiter">&quot;</span></span>));
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In query languages like <a href="https://en.wikipedia.org/wiki/SQL">SQL</a>, the user must construct a string representation of
their query and submit it to the database for evaluation. This is because SQL cannot be expressed in Java as they use fundamentally
different constructs in their expression. The same example above is presented below using SQL and the
<a href="https://en.wikipedia.org/wiki/Java_Database_Connectivity">JDBC</a> interface. The take home point is that Gremlin does
not exist outside the programming language in which it will be used. Gremlin was designed to be able to be
embedded in any modern programming language and thus, always free from the complexities of string manipulation as seen
in other database and analytics query languages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyApplication</span> {

  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> run(<span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> args) {

    <span class="comment">// assumes args[0] is a URI to the database</span>
    <span class="predefined-type">Connection</span> connection = <span class="predefined-type">DriverManager</span>.getConnection(args[<span class="integer">0</span>])
    <span class="predefined-type">Statement</span> statement = connection.createStatement();

    <span class="comment">// assumes that args[1] and args[2] are range boundaries</span>
    <span class="predefined-type">ResultSet</span> result = statement.executeQuery(
      <span class="string"><span class="delimiter">&quot;</span><span class="content">SELECT Products.ProductName, Products.UnitPrice </span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
      <span class="string"><span class="delimiter">&quot;</span><span class="content">  FROM (SELECT ROW_NUMBER() </span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
      <span class="string"><span class="delimiter">&quot;</span><span class="content">                   OVER ( </span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
      <span class="string"><span class="delimiter">&quot;</span><span class="content">                     ORDER BY UnitPrice) AS [ROW_NUMBER], </span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
      <span class="string"><span class="delimiter">&quot;</span><span class="content">                 ProductID </span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
      <span class="string"><span class="delimiter">&quot;</span><span class="content">            FROM Products) AS SortedProducts </span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
      <span class="string"><span class="delimiter">&quot;</span><span class="content">      INNER JOIN Products </span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
      <span class="string"><span class="delimiter">&quot;</span><span class="content">              ON Products.ProductID = SortedProducts.ProductID </span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
      <span class="string"><span class="delimiter">&quot;</span><span class="content">   WHERE [ROW_NUMBER] BETWEEN </span><span class="delimiter">&quot;</span></span> + args[<span class="integer">1</span>] + <span class="string"><span class="delimiter">&quot;</span><span class="content"> AND </span><span class="delimiter">&quot;</span></span> + args[<span class="integer">2</span>] + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
      <span class="string"><span class="delimiter">&quot;</span><span class="content">ORDER BY [ROW_NUMBER]</span><span class="delimiter">&quot;</span></span>

    <span class="keyword">while</span>(result.hasNext()) {
      result.next();
      <span class="predefined-type">System</span>.out.println(result.getString(<span class="string"><span class="delimiter">&quot;</span><span class="content">Products.ProductName</span><span class="delimiter">&quot;</span></span>) + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + result.getDouble(<span class="string"><span class="delimiter">&quot;</span><span class="content">Products.UnitPrice</span><span class="delimiter">&quot;</span></span>));
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The purpose of this tutorial is to explain how to develop a <em>Gremlin language variant</em>. That is, for those developers that
are interested in supporting Gremlin in their native language and there currently does not exist a (good) Gremlin variant in
their language, they can develop one for the Apache TinkerPop community (and their language community in general). In this
tutorial, <a href="https://www.python.org/">Python</a> will serve as the host language and two typical implementation models will be presented.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#using-jython-and-the-jvm"><strong>Using Jython and the JVM</strong></a>: This is perhaps the easiest way to produce a Gremlin
language variant. With <a href="https://www.jcp.org/en/jsr/detail?id=223">JSR-223</a>, any language compiler written for the JVM
can directly access the JVM and any of its libraries (including Gremlin-Java).</p>
</li>
<li>
<p><a href="#using-python-and-gremlin-server"><strong>Using Python and GremlinServer</strong></a>: This model requires that there exist a Python
class that mimics Gremlin-Java&#8217;s <code>GraphTraversal</code> API. With each method call of this Python class, Gremlin <code>Bytecode</code> is
generated which is ultimately translated into a Gremlin variant that can execute the traversal (e.g. Gremlin-Java).</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Apache TinkerPop&#8217;s Gremlin-Java is considered the idiomatic, standard implementation of Gremlin.
Any Gremlin language variant, regardless of the implementation model chosen, <strong>must</strong>, within the constraints of the
host language, be in 1-to-1 correspondence with Gremlin-Java. This ensures that language variants are collectively
consistent and easily leveraged by anyone versed in Gremlin.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
The "Gremlin-Python" presented in this tutorial is basic and provided to show the primary techniques used to
construct a Gremlin language variant. Apache TinkerPop distributes with a full fledged Gremlin-Python variant
that uses many of the techniques presented in this tutorial.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="language-drivers-vs-language-variants">Language Drivers vs. Language Variants</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before discussing how to implement a Gremlin language variant in Python, it is necessary to understand two concepts related to
Gremlin language development. There is a difference between a <em>language driver</em> and a <em>language variant</em> and it is important
that these two concepts (and their respective implementations) remain separate.</p>
</div>
<div class="sect2">
<h3 id="_language_drivers">Language Drivers</h3>
<div class="paragraph">
<p><span class="image" style="float: right"><img src="../../images/language-drivers.png" alt="language drivers" width="375"></span> A Gremlin language driver is a software library that is able to
communicate with a TinkerPop-enabled graph system whether directly via the JVM or indirectly via
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#gremlin-server">Gremlin Server</a> GremlinServer or some other
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#connecting-via-remotegraph">RemoteConnection</a> enabled graph system.
Language drivers are responsible for submitting Gremlin traversals to a TinkerPop-enabled graph system and
returning results to the developer that are within the developer&#8217;s language&#8217;s type system.
For instance, resultant doubles should be coerced to floats in Python.</p>
</div>
<div class="paragraph">
<p>This tutorial is not about language drivers, but about language variants. Moreover, community libraries should make this
distinction clear and <strong>should not</strong> develop libraries that serve both roles. Language drivers will be useful to a collection
of Gremlin variants within a language community&#8201;&#8212;&#8201;able to support <code>GraphTraversal</code>-variants as well as also other
<a href="https://en.wikipedia.org/wiki/Domain-specific_language">DSL</a>-variants (e.g. <code>SocialTraversal</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>GraphTraversal</code> is a particular Gremlin domain-specific language (<a href="https://en.wikipedia.org/wiki/Domain-specific_language">DSL</a>),
albeit the most popular and foundational DSL. If another DSL is created, then the same techniques discussed in this tutorial
for <code>GraphTraversal</code> apply to <code>XXXTraversal</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_language_variants">Language Variants</h3>
<div class="paragraph">
<p><span class="image" style="float: right"><img src="../../images/language-variants.png" alt="language variants" width="375"></span> A Gremlin language variant is a software library that allows a developer
to write a Gremlin traversal within their native programming language. The language variant is responsible for
creating Gremlin <code>Bytecode</code> that will ultimately be translated and compiled to a <code>Traversal</code> by a TinkerPop-enabled graph system.</p>
</div>
<div class="paragraph">
<p>Every language variant, regardless of the implementation details, will have to account for the four core concepts below:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Graph</code> (<strong>data</strong>): The source of the graph data to be traversed and the interface which enables the creation of a
<code>GraphTraversalSource</code> (via <code>graph.traversal()</code>).</p>
</li>
<li>
<p><code>GraphTraversalSource</code> (<strong>compiler</strong>): This is the typical <code>g</code> reference. A <code>GraphTraversalSource</code> maintains the
<code>withXXX()</code>-strategy methods as well as the "traversal spawn"-methods such as <code>V()</code>, <code>E()</code>, <code>addV()</code>, etc.
A traversal source&#8217;s registered <code>TraversalStrategies</code> determine how the submitted traversal will be ultimately evaluated.</p>
</li>
<li>
<p><code>GraphTraversal</code> (<strong>function composition</strong>): A graph traversal maintains the computational steps such as <code>out()</code>, <code>groupCount()</code>,
<code>match()</code>, etc. This fluent interface supports method chaining and thus, a linear "left-to-right" representation of a traversal/query.</p>
</li>
<li>
<p><code><em></code> (<strong>function nesting</strong>) : The anonymous traversal class is used for passing a traversal as an argument to a parent step.
For example, in <code>repeat(</em>.out())</code>, <code>__.out()</code> is an anonymous traversal passed to the traversal parent <code>repeat()</code>.
Anonymous traversals enable the "top-to-bottom" representation of a traversal.</p>
</li>
<li>
<p><code>Bytecode</code> (<strong>language agnostic encoding</strong>): The source and traversal steps and their arguments are encoded in a
language agnostic representation called Gremlin bytecode. This representation is a nested list of the form <code>[step,[args*]]*</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Both <code>GraphTraversal</code> and <code><em>_</code> define the structure of the Gremlin language. Gremlin is a _two-dimensional language</em> supporting
linear, nested step sequences. Historically, many Gremlin language variants have failed to make the distinctions above clear
and in doing so, either complicate their implementations or yield variants that are not in 1-to-1 correspondence with Gremlin-Java.
By keeping these concepts clear when designing a language variant, the construction of the Gremlin bytecode representation is
easy.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
The term "Gremlin-Java" denotes the language that is defined by <code>GraphTraversalSource</code>, <code>GraphTraversal</code>,
and <code>__</code>. These three classes exist in <code>org.apache.tinkerpop.gremlin.process.traversal.dsl.graph</code> and form the definitive
representation of the Gremlin traversal language.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gremlin_jython_and_gremlin_python">Gremlin-Jython and Gremlin-Python</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="using-jython-and-the-jvm">Using Jython and the JVM</h3>
<div class="paragraph">
<p><span class="image" style="float: left"><a class="image" href="http://www.jython.org/"><img src="../../images/jython-logo.png" alt="jython logo" width="200"></a></span> <a href="http://www.jython.org/">Jython</a> provides a
<a href="https://www.jcp.org/en/jsr/detail?id=223">JSR-223</a> <code>ScriptEngine</code> implementation that enables the evaluation of
Python on the <a href="https://en.wikipedia.org/wiki/Java_virtual_machine">Java virtual machine</a>. In other words, Jython&#8217;s
virtual machine is not the standard <a href="https://wiki.python.org/moin/CPython">CPython</a> reference implementation
distributed with most operating systems, but instead the JVM. The benefit of Jython is that Python code and classes
can easily interact with the Java API and any Java packages on the <code>CLASSPATH</code>. In general, any JSR-223 Gremlin language
variant is trivial to "implement."</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">Jython <span class="float">2.7</span><span class="float">.0</span> (default:<span class="integer">9987</span>c746f838, Apr <span class="integer">29</span> <span class="integer">2015</span>, <span class="octal">02</span>:<span class="integer">25</span>:<span class="integer">11</span>)
[Java HotSpot(TM) <span class="integer">64</span>-Bit Server VM (Oracle Corporation)] on java1<span class="float">.8</span><span class="float">.0</span>_40
Type <span class="string"><span class="delimiter">&quot;</span><span class="content">help</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">copyright</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">credits</span><span class="delimiter">&quot;</span></span> <span class="keyword">or</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">license</span><span class="delimiter">&quot;</span></span> <span class="keyword">for</span> more information.
&gt;&gt;&gt; <span class="keyword">import</span> <span class="include">sys</span>
<span class="comment"># this list is longer than displayed, including all jars in lib/, not just Apache TinkerPop jars</span>
<span class="comment"># there is probably a more convenient way of importing jars in Jython though, at the time of writing, no better solution was found.</span>
&gt;&gt;&gt; sys.path.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">/usr/local/apache-gremlin-console-3.2.6-standalone/lib/gremlin-console-3.2.6.jar</span><span class="delimiter">&quot;</span></span>)
&gt;&gt;&gt; sys.path.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">/usr/local/apache-gremlin-console-3.2.6-standalone/lib/gremlin-core-3.2.6.jar</span><span class="delimiter">&quot;</span></span>)
&gt;&gt;&gt; sys.path.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">/usr/local/apache-gremlin-console-3.2.6-standalone/lib/gremlin-driver-3.2.6.jar</span><span class="delimiter">&quot;</span></span>)
&gt;&gt;&gt; sys.path.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">/usr/local/apache-gremlin-console-3.2.6-standalone/lib/gremlin-shaded-3.2.6.jar</span><span class="delimiter">&quot;</span></span>)
&gt;&gt;&gt; sys.path.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">/usr/local/apache-gremlin-console-3.2.6-standalone/ext/tinkergraph-gremlin/lib/tinkergraph-gremlin-3.2.6.jar</span><span class="delimiter">&quot;</span></span>)
<span class="comment"># import Java classes</span>
&gt;&gt;&gt; <span class="keyword">from</span> <span class="include">org.apache.tinkerpop.gremlin.tinkergraph.structure</span> <span class="keyword">import</span> <span class="include">TinkerFactory</span>
&gt;&gt;&gt; <span class="keyword">from</span> <span class="include">org.apache.tinkerpop.gremlin.process.traversal.dsl.graph</span> <span class="keyword">import</span> <span class="include">__</span>
&gt;&gt;&gt; <span class="keyword">from</span> <span class="include">org.apache.tinkerpop.gremlin.process.traversal</span> <span class="keyword">import</span> <span class="include">*</span>
&gt;&gt;&gt; <span class="keyword">from</span> <span class="include">org.apache.tinkerpop.gremlin.structure</span> <span class="keyword">import</span> <span class="include">*</span>
<span class="comment"># create the toy &quot;modern&quot; graph and spawn a GraphTraversalSource</span>
&gt;&gt;&gt; graph = TinkerFactory.createModern()
&gt;&gt;&gt; g = graph.traversal()
<span class="comment"># The Jython shell does not automatically iterate Iterators like the GremlinConsole</span>
&gt;&gt;&gt; g.V().hasLabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).out(<span class="string"><span class="delimiter">&quot;</span><span class="content">knows</span><span class="delimiter">&quot;</span></span>).out(<span class="string"><span class="delimiter">&quot;</span><span class="content">created</span><span class="delimiter">&quot;</span></span>)
[GraphStep(vertex,[]), HasStep([~label.eq(person)]), VertexStep(OUT,[knows],vertex), VertexStep(OUT,[created],vertex)]
<span class="comment"># toList() will do the iteration and return the results as a list</span>
&gt;&gt;&gt; g.V().hasLabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).out(<span class="string"><span class="delimiter">&quot;</span><span class="content">knows</span><span class="delimiter">&quot;</span></span>).out(<span class="string"><span class="delimiter">&quot;</span><span class="content">created</span><span class="delimiter">&quot;</span></span>).toList()
[v[<span class="integer">5</span>], v[<span class="integer">3</span>]]
&gt;&gt;&gt; g.V().repeat(__.out()).times(<span class="integer">2</span>).values(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>).toList()
[ripple, lop]
<span class="comment"># results can be interacted with using Python</span>
&gt;&gt;&gt; g.V().repeat(__.out()).times(<span class="integer">2</span>).values(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>).toList()[<span class="integer">0</span>]
<span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">ripple</span><span class="delimiter">'</span></span>
&gt;&gt;&gt; g.V().repeat(__.out()).times(<span class="integer">2</span>).values(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>).toList()[<span class="integer">0</span>][<span class="integer">0</span>:<span class="integer">3</span>].upper()
<span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">RIP</span><span class="delimiter">'</span></span>
&gt;&gt;&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Most every JSR-223 <code>ScriptEngine</code> language will allow the developer to immediately interact with <code>GraphTraversal</code>.
The benefit of this model is that nearly every major programming language has a respective <code>ScriptEngine</code>:
<a href="https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)">JavaScript</a>, <a href="http://groovy-lang.org/">Groovy</a>,
<a href="http://www.scala-lang.org/">Scala</a>, Lisp (<a href="https://clojure.org/">Clojure</a>), <a href="http://jruby.org/">Ruby</a>, etc. A
list of implementations is provided <a href="https://en.wikipedia.org/wiki/List_of_JVM_languages">here</a>.</p>
</div>
<div class="sect3">
<h4 id="_traversal_wrappers">Traversal Wrappers</h4>
<div class="paragraph">
<p>While it is possible to simply interact with Java classes in a <code>ScriptEngine</code> implementation, such Gremlin language variants
will not leverage the unique features of the host language. It is for this reason that JVM-based language variants such as
<a href="https://github.com/mpollmeier/gremlin-scala">Gremlin-Scala</a> were developed. Scala provides many syntax niceties not
available in Java. To leverage these niceties, Gremlin-Scala "wraps" <code>GraphTraversal</code> in order to provide Scala-idiomatic extensions.
Another example is Apache TinkerPop&#8217;s Gremlin-Groovy which does the same via the
<a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#sugar-plugin">Sugar plugin</a>, but uses
<a href="http://groovy-lang.org/metaprogramming.html">meta-programming</a> instead of object wrapping, where "behind the scenes,"
Groovy meta-programming is doing object wrapping.</p>
</div>
<div class="paragraph">
<p>The Jython example below uses Python meta-programming to add functionality to <code>GraphTraversal</code>.
In particular, the <code><em>getitem</em></code> and <code><em>getattr</em></code> "magic methods" are leveraged.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">def</span> <span class="function">getitem_bypass</span>(<span class="predefined-constant">self</span>, index):
  <span class="keyword">if</span> <span class="predefined">isinstance</span>(index,<span class="predefined">int</span>):
    <span class="keyword">return</span> <span class="predefined-constant">self</span>.range(index,index+<span class="integer">1</span>)
  <span class="keyword">elif</span> <span class="predefined">isinstance</span>(index,<span class="predefined">slice</span>):
    <span class="keyword">return</span> <span class="predefined-constant">self</span>.range(index.start,index.stop)
  <span class="keyword">else</span>:
    <span class="keyword">return</span> <span class="exception">TypeError</span>(<span class="string"><span class="delimiter">'</span><span class="content">Index must be int or slice</span><span class="delimiter">'</span></span>)<span class="string"><span class="delimiter">&quot;</span><span class="content">);</span></span>
GraphTraversal.__getitem__ = getitem_bypass
GraphTraversal.__getattr__ = <span class="keyword">lambda</span> <span class="predefined-constant">self</span>, key: <span class="predefined-constant">self</span>.values(key)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The two methods <code><em>getitem</em></code> and <code><em>getattr</em></code> support Python <em>slicing</em> and <em>object attribute interception</em>, respectively.
In this way, the host language is able to use its native constructs in a meaningful way within a Gremlin traversal.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Gremlin-Java serves as the standard/default representation of the Gremlin traversal language. Any Gremlin
language variant <strong>must</strong> provide all the same functionality (methods) as <code>GraphTraversal</code>, but <strong>can</strong> extend it
with host language specific constructs. This means that the extensions <strong>must</strong> compile to <code>GraphTraversal</code>-specific
steps. A Gremlin language variant <strong>should not</strong> add steps/methods that do not exist in <code>GraphTraversal</code>. If an extension
is desired, the language variant designer should submit a proposal to <a href="http://tinkerpop.apache.org">Apache TinkerPop</a>
to have the extension added to a future release of Gremlin.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-python-and-remoteconnection">Using Python and RemoteConnection</h3>
<div class="paragraph">
<p><span class="image" style="float: left"><a class="image" href="https://www.python.org/"><img src="../../images/python-logo.png" alt="python logo" width="125"></a></span> The JVM is a powerful piece of technology that has, over the years,
become a meeting ground for developers from numerous language communities. However, not all applications will use the JVM.
Given that Apache TinkerPop is a Java-framework, there must be a way for two different virtual machines to communicate
traversals and their results. This section presents the second Gremlin language variant implementation model which does just that.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Apache TinkerPop is a JVM-based graph computing framework. Most graph databases and processors today are built
on the JVM. This makes it easy for these graph system providers to implement Apache TinkerPop. However, TinkerPop is more
than its graph API and tools&#8201;&#8212;&#8201;it is also the Gremlin traversal machine and language. While Apache&#8217;s Gremlin traversal
machine was written for the JVM, its constructs are simple and can/should be ported to other VMs for those graph systems
that are not JVM-based. A theoretical review of the concepts behind the Gremlin traversal machine is provided in
<a href="http://arxiv.org/abs/1508.03843">this article</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This section&#8217;s Gremlin language variant design model does not leverage the JVM directly. Instead, it constructs a <code>Bytecode</code>
representation of a <code>Traversal</code> that will ultimately be evaluated by <code>RemoteConnection</code> (e.g. GremlinServer).
It is up to the language variant designer to choose a <em>language driver</em> to use for submitting the generated bytecode and
coercing its results. The language driver is the means by which, for this example, the CPython
VM communicates with the JVM.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"># sudo easy_install pip
$ pip install gremlinpython</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Groovy source code below uses Java reflection to generate a Python class that is in 1-to-1 correspondence with
Gremlin-Java.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">GraphTraversalSourceGenerator</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> create(<span class="directive">final</span> <span class="predefined-type">String</span> graphTraversalSourceFile) {

        <span class="directive">final</span> <span class="predefined-type">StringBuilder</span> pythonClass = <span class="keyword">new</span> <span class="predefined-type">StringBuilder</span>()

        pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">from .traversal import Traversal</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)
        pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">from .traversal import TraversalStrategies</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)
        pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">from .traversal import Bytecode</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)
        pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">from ..driver.remote_connection import RemoteStrategy</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)
        pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">from .. import statics</span><span class="char">\n</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)

<span class="comment">//////////////////////////</span>
<span class="comment">// GraphTraversalSource //</span>
<span class="comment">//////////////////////////</span>
        pythonClass.append(
                <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">class GraphTraversalSource(object):
  def __init__(self, graph, traversal_strategies, bytecode=None):
    self.graph = graph
    self.traversal_strategies = traversal_strategies
    if bytecode is None:
      bytecode = Bytecode()
    self.bytecode = bytecode
  def __repr__(self):
    return &quot;graphtraversalsource[&quot; + str(self.graph) + &quot;]&quot;
</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
        GraphTraversalSource.getMethods(). <span class="comment">// SOURCE STEPS</span>
                findAll { GraphTraversalSource.class.equals(<span class="local-variable">it</span>.returnType) }.
                findAll {
                    !<span class="local-variable">it</span>.name.equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">clone</span><span class="delimiter">&quot;</span></span>) &amp;&amp;
                            !<span class="local-variable">it</span>.name.equals(TraversalSource.Symbols.withRemote)
                }.
                collect { SymbolHelper.toPython(<span class="local-variable">it</span>.name) }.
                unique().
                sort { a, b -&gt; a &lt;=&gt; b }.
                forEach { method -&gt;
                    pythonClass.append(
                            <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">  def </span><span class="inline"><span class="inline-delimiter">${</span>method<span class="inline-delimiter">}</span></span><span class="content">(self, *args):
    source = GraphTraversalSource(self.graph, TraversalStrategies(self.traversal_strategies), Bytecode(self.bytecode))
    source.bytecode.add_source(&quot;</span><span class="inline"><span class="inline-delimiter">${</span>SymbolHelper.toJava(method)<span class="inline-delimiter">}</span></span><span class="content">&quot;, *args)
    return source
</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
                }
        pythonClass.append(
                <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">  def withRemote(self, remote_connection):
    source = GraphTraversalSource(self.graph, TraversalStrategies(self.traversal_strategies), Bytecode(self.bytecode))
    source.traversal_strategies.add_strategies([RemoteStrategy(remote_connection)])
    return source
</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
        GraphTraversalSource.getMethods(). <span class="comment">// SPAWN STEPS</span>
                findAll { GraphTraversal.class.equals(<span class="local-variable">it</span>.returnType) }.
                collect { SymbolHelper.toPython(<span class="local-variable">it</span>.name) }.
                unique().
                sort { a, b -&gt; a &lt;=&gt; b }.
                forEach { method -&gt;
                    pythonClass.append(
                            <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">  def </span><span class="inline"><span class="inline-delimiter">${</span>method<span class="inline-delimiter">}</span></span><span class="content">(self, *args):
    traversal = GraphTraversal(self.graph, self.traversal_strategies, Bytecode(self.bytecode))
    traversal.bytecode.add_step(&quot;</span><span class="inline"><span class="inline-delimiter">${</span>SymbolHelper.toJava(method)<span class="inline-delimiter">}</span></span><span class="content">&quot;, *args)
    return traversal
</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
                }
        pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)

<span class="comment">////////////////////</span>
<span class="comment">// GraphTraversal //</span>
<span class="comment">////////////////////</span>
        pythonClass.append(
                <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">class GraphTraversal(Traversal):
  def __init__(self, graph, traversal_strategies, bytecode):
    Traversal.__init__(self, graph, traversal_strategies, bytecode)
  def __getitem__(self, index):
    if isinstance(index, int):
        return self.range(index, index + 1)
    elif isinstance(index, slice):
        return self.range(index.start, index.stop)
    else:
        raise TypeError(&quot;Index must be int or slice&quot;)
  def __getattr__(self, key):
    return self.values(key)
</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
        GraphTraversal.getMethods().
                findAll { GraphTraversal.class.equals(<span class="local-variable">it</span>.returnType) }.
                findAll { !<span class="local-variable">it</span>.name.equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">clone</span><span class="delimiter">&quot;</span></span>) }.
                collect { SymbolHelper.toPython(<span class="local-variable">it</span>.name) }.
                unique().
                sort { a, b -&gt; a &lt;=&gt; b }.
                forEach { method -&gt;
                    pythonClass.append(
                            <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">  def </span><span class="inline"><span class="inline-delimiter">${</span>method<span class="inline-delimiter">}</span></span><span class="content">(self, *args):
    self.bytecode.add_step(&quot;</span><span class="inline"><span class="inline-delimiter">${</span>SymbolHelper.toJava(method)<span class="inline-delimiter">}</span></span><span class="content">&quot;, *args)
    return self
</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
                };
        pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)

<span class="comment">////////////////////////</span>
<span class="comment">// AnonymousTraversal //</span>
<span class="comment">////////////////////////</span>
        pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">class __(object):</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>);
        __.class.getMethods().
                findAll { GraphTraversal.class.equals(<span class="local-variable">it</span>.returnType) }.
                findAll { <span class="predefined-type">Modifier</span>.isStatic(<span class="local-variable">it</span>.getModifiers()) }.
                collect { SymbolHelper.toPython(<span class="local-variable">it</span>.name) }.
                unique().
                sort { a, b -&gt; a &lt;=&gt; b }.
                forEach { method -&gt;
                    pythonClass.append(
                            <span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">  @staticmethod
  def </span><span class="inline"><span class="inline-delimiter">${</span>method<span class="inline-delimiter">}</span></span><span class="content">(*args):
    return GraphTraversal(None, None, Bytecode()).</span><span class="inline"><span class="inline-delimiter">${</span>method<span class="inline-delimiter">}</span></span><span class="content">(*args)
</span><span class="delimiter">&quot;&quot;&quot;</span></span>)
                };
        pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)
        <span class="comment">// add to gremlin.python.statics</span>
        __.class.getMethods().
                findAll { GraphTraversal.class.equals(<span class="local-variable">it</span>.returnType) }.
                findAll { <span class="predefined-type">Modifier</span>.isStatic(<span class="local-variable">it</span>.getModifiers()) }.
                findAll { !<span class="local-variable">it</span>.name.equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">__</span><span class="delimiter">&quot;</span></span>) }.
                collect { SymbolHelper.toPython(<span class="local-variable">it</span>.name) }.
                unique().
                sort { a, b -&gt; a &lt;=&gt; b }.
                forEach {
                    pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">def </span><span class="inline"><span class="inline-delimiter">${</span><span class="local-variable">it</span><span class="inline-delimiter">}</span></span><span class="content">(*args):</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>).append(<span class="string"><span class="delimiter">&quot;</span><span class="content">      return __.</span><span class="inline"><span class="inline-delimiter">${</span><span class="local-variable">it</span><span class="inline-delimiter">}</span></span><span class="content">(*args)</span><span class="char">\n</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)
                    pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">statics.add_static('</span><span class="inline"><span class="inline-delimiter">${</span><span class="local-variable">it</span><span class="inline-delimiter">}</span></span><span class="content">', </span><span class="inline"><span class="inline-delimiter">${</span><span class="local-variable">it</span><span class="inline-delimiter">}</span></span><span class="content">)</span><span class="char">\n</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)
                }
        pythonClass.append(<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>)

<span class="comment">// save to a python file</span>
        <span class="directive">final</span> <span class="predefined-type">File</span> file = <span class="keyword">new</span> <span class="predefined-type">File</span>(graphTraversalSourceFile);
        file.delete()
        pythonClass.eachLine { file.append(<span class="local-variable">it</span> + <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>) }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the above Groovy script is evaluated (e.g. in GremlinConsole), <strong>Gremlin-Python</strong> is born. The generated Python
file is available at <a href="https://github.com/apache/tinkerpop/blob/3.2.6/gremlin-python/src/main/jython/gremlin_python/process/graph_traversal.py">graph_traversal.py</a>.
It is important to note that there is a bit more to Gremlin-Python in that there also exists Python implementations of <code>TraversalStrategies</code>, <code>Traversal</code>, <code>Bytecode</code>, etc.
Please review the full implementation of Gremlin-Python <a href="https://github.com/apache/tinkerpop/tree/3.2.6/gremlin-python/src/main/jython/gremlin_python">here</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In practice, TinkerPop uses the Groovy&#8217;s <code>GStringTemplateEngine</code> to help with the code generation task described
above and automates that generation as part of the standard build with Maven using the <code>gmavenplus-plugin</code>. See the
<code>gremlin-python</code> <a href="https://github.com/apache/tinkerpop/blob/3.2.6/gremlin-python/pom.xml">pom.xml</a> for more details.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Of particular importance is Gremlin-Python&#8217;s implementation of <code>Bytecode</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">class</span> <span class="class">Bytecode</span>(<span class="predefined">object</span>):
  <span class="keyword">def</span> <span class="function">__init__</span>(<span class="predefined-constant">self</span>, bytecode=<span class="predefined-constant">None</span>):
    <span class="predefined-constant">self</span>.source_instructions = []
    <span class="predefined-constant">self</span>.step_instructions = []
    <span class="predefined-constant">self</span>.bindings = {}
    <span class="keyword">if</span> bytecode <span class="keyword">is</span> <span class="keyword">not</span> <span class="predefined-constant">None</span>:
      <span class="predefined-constant">self</span>.source_instructions = <span class="predefined">list</span>(bytecode.source_instructions)
      <span class="predefined-constant">self</span>.step_instructions = <span class="predefined">list</span>(bytecode.step_instructions)

  <span class="keyword">def</span> <span class="function">add_source</span>(<span class="predefined-constant">self</span>, source_name, *args):
    newArgs = ()
    <span class="keyword">for</span> arg <span class="keyword">in</span> args:
      newArgs = newArgs + (<span class="predefined-constant">self</span>.__convertArgument(arg),)
    <span class="predefined-constant">self</span>.source_instructions.append((source_name, newArgs))
    <span class="keyword">return</span>

  <span class="keyword">def</span> <span class="function">add_step</span>(<span class="predefined-constant">self</span>, step_name, *args):
    newArgs = ()
    <span class="keyword">for</span> arg <span class="keyword">in</span> args:
      newArgs = newArgs + (<span class="predefined-constant">self</span>.__convertArgument(arg),)
    <span class="predefined-constant">self</span>.step_instructions.append((step_name, newArgs))
    <span class="keyword">return</span>

  <span class="keyword">def</span> <span class="function">__convertArgument</span>(<span class="predefined-constant">self</span>,arg):
    <span class="keyword">if</span> <span class="predefined">isinstance</span>(arg, Traversal):
      <span class="predefined-constant">self</span>.bindings.update(arg.bytecode.bindings)
      <span class="keyword">return</span> arg.bytecode
    <span class="keyword">elif</span> <span class="predefined">isinstance</span>(arg, <span class="predefined">tuple</span>) <span class="keyword">and</span> <span class="integer">2</span> == <span class="predefined">len</span>(arg) <span class="keyword">and</span> <span class="predefined">isinstance</span>(arg[<span class="integer">0</span>], <span class="predefined">str</span>):
      <span class="predefined-constant">self</span>.bindings[arg[<span class="integer">0</span>]] = arg[<span class="integer">1</span>]
      <span class="keyword">return</span> Binding(arg[<span class="integer">0</span>],arg[<span class="integer">1</span>])
    <span class="keyword">else</span>:
      <span class="keyword">return</span> arg</code></pre>
</div>
</div>
<div class="paragraph">
<p>As <code>GraphTraversalSource</code> and <code>GraphTraversal</code> are manipulated, the step-by-step instructions are written to <code>Bytecode</code>.
This bytecode is simply a list of lists. For instance, <code>g.V(1).repeat(out('knows').hasLabel('person')).times(2).name</code> has
the <code>Bytecode</code> form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">[
 [<span class="string"><span class="delimiter">&quot;</span><span class="content">V</span><span class="delimiter">&quot;</span></span>, [<span class="integer">1</span>]],
 [<span class="string"><span class="delimiter">&quot;</span><span class="content">repeat</span><span class="delimiter">&quot;</span></span>, [[
   [<span class="string"><span class="delimiter">&quot;</span><span class="content">out</span><span class="delimiter">&quot;</span></span>, [<span class="string"><span class="delimiter">&quot;</span><span class="content">knows</span><span class="delimiter">&quot;</span></span>]]
   [<span class="string"><span class="delimiter">&quot;</span><span class="content">hasLabel</span><span class="delimiter">&quot;</span></span>, [<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>]]]]]
 [<span class="string"><span class="delimiter">&quot;</span><span class="content">times</span><span class="delimiter">&quot;</span></span>, [<span class="integer">2</span>]]
 [<span class="string"><span class="delimiter">&quot;</span><span class="content">values</span><span class="delimiter">&quot;</span></span>, [<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>]]
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This nested list representation is ultimately converted by the language variant into <a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#graphson-reader-writer">GraphSON</a>
for serialization to a <code>RemoteConnection</code> such as GremlinServer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ bin/gremlin-server.sh -i org.apache.tinkerpop gremlin-python 3.2.6
$ bin/gremlin-server.sh conf/gremlin-server-modern-py.yaml
[INFO] GremlinServer -
       \,,,/
       (o o)
---oOOo-(3)-oOOo---

[INFO] GremlinServer - Configuring Gremlin Server from conf/gremlin-server-modern-py.yaml
[INFO] GraphManager - Graph [graph] was successfully configured via [conf/tinkergraph-empty.properties].
[INFO] ScriptEngines - Loaded gremlin-jython ScriptEngine
[INFO] ScriptEngines - Loaded gremlin-groovy ScriptEngine
[INFO] ServerGremlinExecutor - Initialized GremlinExecutor and configured ScriptEngines.
[INFO] ServerGremlinExecutor - A GraphTraversalSource is now bound to [g] with graphtraversalsource[tinkergraph[vertices:0 edges:0], standard]
[INFO] TraversalOpProcessor - Initialized cache for TraversalOpProcessor with size 1000 and expiration time of 600000 ms
[INFO] AbstractChannelizer - Configured application/vnd.gremlin-v1.0+json with org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerGremlinV1d0
[INFO] AbstractChannelizer - Configured application/json with org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV1d0
[INFO] GremlinServer$1 - Channel started at port 8182.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Within the CPython console, it is possible to evaluate the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">Python <span class="float">2.7</span><span class="float">.2</span> (default, Oct <span class="integer">11</span> <span class="integer">2012</span>, <span class="integer">20</span>:<span class="integer">14</span>:<span class="integer">37</span>)
[GCC <span class="float">4.2</span><span class="float">.1</span> Compatible Apple Clang <span class="float">4.0</span> (tags/Apple/clang-<span class="float">418.0</span><span class="float">.60</span>)] on darwin
Type <span class="string"><span class="delimiter">&quot;</span><span class="content">help</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">copyright</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">credits</span><span class="delimiter">&quot;</span></span> <span class="keyword">or</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">license</span><span class="delimiter">&quot;</span></span> <span class="keyword">for</span> more information.
&gt;&gt;&gt; <span class="keyword">from</span> <span class="include">gremlin_python</span> <span class="keyword">import</span> <span class="include">statics</span>
&gt;&gt;&gt; <span class="keyword">from</span> <span class="include">gremlin_python.structure.graph</span> <span class="keyword">import</span> <span class="include">Graph</span>
&gt;&gt;&gt; <span class="keyword">from</span> <span class="include">gremlin_python.driver.driver_remote_connection</span> <span class="keyword">import</span> <span class="include">DriverRemoteConnection</span>
<span class="comment"># loading statics enables __.out() to be out() and P.gt() to be gt()</span>
&gt;&gt;&gt; statics.load_statics(<span class="predefined">globals</span>())
&gt;&gt;&gt; graph = Graph()
&gt;&gt;&gt; g = graph.traversal().withRemote(DriverRemoteConnection(<span class="string"><span class="delimiter">'</span><span class="content">ws://localhost:8182/gremlin</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">g</span><span class="delimiter">'</span></span>))
<span class="comment"># nested traversal with Python slicing and attribute interception extensions</span>
&gt;&gt;&gt; g.V().hasLabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).repeat(both()).times(<span class="integer">2</span>).name[<span class="integer">0</span>:<span class="integer">2</span>].toList()
[<span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">marko</span><span class="delimiter">'</span></span>, <span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">marko</span><span class="delimiter">'</span></span>]
&gt;&gt;&gt; g = g.withComputer()
&gt;&gt;&gt; g.V().hasLabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).repeat(both()).times(<span class="integer">2</span>).name[<span class="integer">0</span>:<span class="integer">2</span>].toList()
[<span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">peter</span><span class="delimiter">'</span></span>, <span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">peter</span><span class="delimiter">'</span></span>]
<span class="comment"># a complex, nested multi-line traversal</span>
&gt;&gt;&gt; g.V().match( \
...     as_(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>).out(<span class="string"><span class="delimiter">&quot;</span><span class="content">created</span><span class="delimiter">&quot;</span></span>).as_(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>), \
...     as_(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>).in_(<span class="string"><span class="delimiter">&quot;</span><span class="content">created</span><span class="delimiter">&quot;</span></span>).as_(<span class="string"><span class="delimiter">&quot;</span><span class="content">c</span><span class="delimiter">&quot;</span></span>), \
...     as_(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>).out(<span class="string"><span class="delimiter">&quot;</span><span class="content">knows</span><span class="delimiter">&quot;</span></span>).as_(<span class="string"><span class="delimiter">&quot;</span><span class="content">c</span><span class="delimiter">&quot;</span></span>)). \
...   select(<span class="string"><span class="delimiter">&quot;</span><span class="content">c</span><span class="delimiter">&quot;</span></span>). \
...   union(in_(<span class="string"><span class="delimiter">&quot;</span><span class="content">knows</span><span class="delimiter">&quot;</span></span>),out(<span class="string"><span class="delimiter">&quot;</span><span class="content">created</span><span class="delimiter">&quot;</span></span>)). \
...   name.toList()
[<span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">ripple</span><span class="delimiter">'</span></span>, <span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">marko</span><span class="delimiter">'</span></span>, <span class="string"><span class="modifier">u</span><span class="delimiter">'</span><span class="content">lop</span><span class="delimiter">'</span></span>]
&gt;&gt;&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Learn more about Apache TinkerPop&#8217;s distribution of Gremlin-Python <a href="http://tinkerpop.apache.org/docs/3.2.6/reference/#gremlin-python">here</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gremlin-language-variant-conventions">Gremlin Language Variant Conventions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Every programming language is different and a Gremlin language variant must ride the fine line between leveraging the
conventions of the host language and ensuring consistency with Gremlin-Java. A collection of conventions for navigating
this dual-language bridge are provided.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If camelCase is not an accepted method naming convention in the host language, then the host language&#8217;s convention can be used instead. For instance, in a Gremlin-Ruby implementation, <code>outE("created")</code> may be <code>out_e("created")</code>.</p>
</li>
<li>
<p>If Gremlin-Java step names conflict with the host language&#8217;s reserved words, then a consistent amelioration should be used. For instance, in Python <code>as</code> is a reserved word, thus, Gremlin-Python uses <code>as_</code>.</p>
</li>
<li>
<p>If the host language does not use dot-notion for method chaining, then its method chaining convention should be used instead of going the route of operator overloading. For instance, a Gremlin-PHP implementation should do <code>$g&#8594;V()&#8594;out()</code>.</p>
</li>
<li>
<p>If a programming language does not support method overloading, then varargs and type introspection should be used. In Gremlin-Python, <code>*args</code> does just that.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Gremlin is a simple language because it uses two fundamental programming language constructs: <strong>function composition</strong>
and <strong>function nesting</strong>. Because of this foundation, it is relatively easy to implement Gremlin in any modern programming
language. Two ways of doing this for the Python language were presented in this tutorial. One using Jython (on the JVM) and one using Python
(on CPython). It is strongly recommended that language variant designers leverage (especially when not on the JVM)
the reflection-based source code generation technique presented. This method ensures that the language
variant is always in sync with the corresponding Apache TinkerPop Gremlin-Java release version. Moreover, it reduces
the chance of missing methods or creating poorly implemented methods. While Gremlin is simple, there are nearly 200
steps in <code>GraphTraversal</code>. As such, mechanical means of host language embedding are strongly advised.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-08-21 14:33:10 EDT
</div>
</div>
</body>
</html>
